{"version":3,"sources":["uni-app:///main.js","webpack:////Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/pages/goods/goods.vue?271e","webpack:////Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/pages/goods/goods.vue?106d","webpack:////Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/pages/goods/goods.vue?72a8","webpack:////Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/pages/goods/goods.vue?3f6c","uni-app:///pages/goods/goods.vue","webpack:////Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/pages/goods/goods.vue?e2ab","webpack:////Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/pages/goods/goods.vue?2d53"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/goods/goods.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/goods/goods.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./goods.vue?vue&type=template&id=5566b618&\"\nvar renderjs\nimport script from \"./goods.vue?vue&type=script&lang=js&\"\nexport * from \"./goods.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goods.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/goods/goods.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=template&id=5566b618&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 =\n    _vm.goodsDetail.name && !_vm.seckillData\n      ? _vm.isPlus &&\n        _vm.goodsDetail.plus_price < parseFloat(_vm.goodsDetail.price)\n      : null\n  var g0 =\n    _vm.goodsDetail.name && _vm.isPhysicalGoods\n      ? _vm.selectArr.some(function(item) {\n          return Boolean(item)\n        })\n      : null\n  var g1 =\n    _vm.goodsDetail.name && _vm.isPhysicalGoods && g0\n      ? _vm.selectArr.join(\";\")\n      : null\n  var l1 =\n    _vm.goodsDetail.name && _vm.goodsComments.total_count\n      ? _vm.__map(_vm.goodsCommentList, function(item, __i2__) {\n          var $orig = _vm.__get_orig(item)\n\n          var l0 = item.img_pic ? item.img_pic.split(\",\") : null\n          var g2 = (item.create_time && item.create_time.split(\" \")[0]) || \" \"\n          return {\n            $orig: $orig,\n            l0: l0,\n            g2: g2\n          }\n        })\n      : null\n  var f0 = _vm.goodsDetail.name\n    ? _vm._f(\"formatRichText\")(_vm.goodsDetail.body)\n    : null\n  var l2 = _vm.goodsDetail.name\n    ? _vm.__map(_vm.eableCoupons, function(coupons, index) {\n        var $orig = _vm.__get_orig(coupons)\n\n        var m1 = coupons.start_time && _vm.timeHandler(coupons.start_time)\n        var m2 = coupons.end_time && _vm.timeHandler(coupons.end_time)\n        return {\n          $orig: $orig,\n          m1: m1,\n          m2: m2\n        }\n      })\n    : null\n  var g3 =\n    _vm.goodsDetail.name && _vm.hasSelectedSize ? _vm.selectArr.join(\";\") : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        g0: g0,\n        g1: g1,\n        l1: l1,\n        f0: f0,\n        l2: l2,\n        g3: g3\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"index\">\r\n\t\t<cu-custom isBack bgColor=\"bg-white-heavy\">\r\n\t\t\t<block slot=\"content\">商品详情</block>\r\n\t\t</cu-custom>\n\r\n\t\t<view v-if=\"goodsDetail.name\">\r\n\t\t\t<!-- swiper goods img -->\r\n\t\t\t<view class=\"swiper-container\" v-if=\"goodsImgList\">\r\n\t\t\t\t<swiper @change=\"swiperChange\" circular>\r\n\t\t\t\t\t<swiper-item v-for=\"item in goodsImgList\" :key=\"item\">\r\n\t\t\t\t\t\t<view class=\"swiper-item\">\n\t\t\t\t\t\t\t<image :src=\"item\" class=\"swiper-img\"></image>\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</swiper-item>\r\n\t\t\t\t</swiper>\r\n\t\t\t\t<view class=\"dots\">\r\n\t\t\t\t\t<text class=\"current\">{{ current + 1 }}</text>\r\n\t\t\t\t\t/{{ goodsImgList ? goodsImgList.length : '' }}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- goods bar -->\n\t\t\t\n\t\t\t<!-- 秒杀 -->\n\t\t\t<template v-if=\"seckillData\">\n\t\t\t\t<view class=\"seckill\">\n\t\t\t\t\t<view class=\"seckill-left\">\n\t\t\t\t\t\t<view class=\"title\">\n\t\t\t\t\t\t\t秒杀价 <text class=\"origin\">￥{{ seckillData.old_price }}</text>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"content flex\">\n\t\t\t\t\t\t\t<view class=\"price\">\n\t\t\t\t\t\t\t\t￥ <text class=\"now_price\">{{ seckillData.promotion_price }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"limit\">\n\t\t\t\t\t\t\t\t限量：{{ seckillData.stock }}件\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"seckill-right\">\n\t\t\t\t\t\t<view class=\"soon\">\n\t\t\t\t\t\t\t<template v-if=\"seckillStatus === 'unstart'\">即将开始</template>\n\t\t\t\t\t\t\t<template v-if=\"seckillStatus === 'duration'\">限时秒杀</template>\n\t\t\t\t\t\t\t<template v-if=\"seckillStatus === 'end'\">限时秒杀</template>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"time\">\n\t\t\t\t\t\t\t{{ currTime }}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"goods-bar section\">\n\t\t\t\t\t<view class=\"flex align-center justify-between\">\n\t\t\t\t\t\t<view class=\"name flex-sub\">{{ goodsDetail.name }}</view>\n\t\t\t\t\t\t<!-- 分享按钮 -->\n\t\t\t\t\t\t<button class=\"share-btn\" open-type=\"share\"><BIcon icon=\"export\" /></button>\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view>{{ goodsDetail.description }}</view>\n\t\t\t\t</view>\n\t\t\t</template>\n\t\t\t<template v-else>\n\t\t\t\t<!-- 原价 -->\n\t\t\t\t<view class=\"goods-bar section\">\n\t\t\t\t\t<view class=\"flex align-center justify-between header solid-bottom\">\r\n\t\t\t\t\t\t<view class=\"price flex-sub\" v-if=\"isPlus && (goodsDetail.plus_price) < parseFloat(goodsDetail.price)\">\r\n\t\t\t\t\t\t\t<text class=\"now\"> ￥<text class=\"now_price\">{{ goodsDetail.price }}</text></text>\n\t\t\t\t\t\t\t<text class=\"old third-color\">￥{{ goodsDetail.plus_price }} </text>\r\n\t\t\t\t\t\t\t<image :src=\"image_path + '/plus/plus.png'\" class=\"plus\"></image>\r\n\t\t\t\t\t\t\t<text class=\"old\"> <text>￥{{ goodsDetail.market_price }}</text> </text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"price flex-sub\" v-else>\r\n\t\t\t\t\t\t\t<text class=\"now\">￥ <text class=\"now_price\">{{ goodsDetail.price }}</text></text>\r\n\t\t\t\t\t\t\t<text class=\"old\" style=\"font-size: 26upx;\"><text>￥{{ goodsDetail.market_price }}</text></text>\r\n\t\t\t\t\t\t</view>\r\n\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"name\">{{ goodsDetail.name }}</view>\r\n\t\t\t\t\t<view class=\"flex align-center justify-between\">\r\n\t\t\t\t\t\t<text>{{ goodsDetail.description }}</text>\r\n\t\t\t\t\t\t<view class=\"cu-tag round\" v-if=\"isServiceGoods\">已服务 {{ goodsDetail.total_sale }} 人</view>\r\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</template>\n\t\t\t\n\t\t\t<!-- 领券/之类说明 -->\n\t\t\t<view class=\"section option\">\n\t\t\t\t<!-- 领券 -->\n\t\t\t\t<view class=\"option-item flex align-center\">\n\t\t\t\t\t<label class=\"label\">领券</label>\n\t\t\t\t\t<view class=\"content flex-sub flex align-center\" @tap=\"openCouponsPopup\">\n\t\t\t\t\t\t<template v-if=\"eableCoupons.length\">\n\t\t\t\t\t\t\t<view class=\"flex-sub\">\n\t\t\t\t\t\t\t\t<view v-for=\"coupons in eableCoupons\" :key=\"coupons.id\">\n\t\t\t\t\t\t\t\t\t<view class=\"get-coupons primary-btn\">\n\t\t\t\t\t\t\t\t\t\t￥{{ coupons.amount }}\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"other\" >\n\t\t\t\t\t\t\t\t<view class=\"other-icon\">\n\t\t\t\t\t\t\t\t\t<BIcon class=\"iconfont\" icon=\"omit\" fontSize=\"6\"/>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t<view class=\"flex-sub\">\n\t\t\t\t\t\t\t\t暂无可领优惠券\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<!-- 发货 -->\n\t\t\t\t<view class=\"option-item flex align-center\" v-if=\"isPhysicalGoods\">\n\t\t\t\t\t<label class=\"label\">发货</label>\n\t\t\t\t\t<view class=\"content flex-sub\">\n\t\t\t\t\t\t<view class=\"flex align-center\">\n\t\t\t\t\t\t\t<BIcon icon=\"location-outline\" />{{ goodsDetail.supply_address }} | {{ goodsDetail.free_shipping ? '免运费' : '不包邮' }}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"other\" v-if=\"goodsDetail.total_sale\">\n\t\t\t\t\t\t已服务 {{ goodsDetail.total_sale }} 人\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<!-- 保障 -->\n\t\t\t\t<view class=\"option-item flex align-center\">\n\t\t\t\t\t<label class=\"label\">保障</label>\n\t\t\t\t\t<view class=\"content flex-sub\">\n\t\t\t\t\t\t{{ isServiceGoods ? '· 正品保障 · 7天无理由' : '· 正规资质 · 随时退 · 无额外收费' }} \n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"other\" v-if=\"isServiceGoods && goodsDetail.total_sale\">\n\t\t\t\t\t\t已服务 {{ goodsDetail.total_sale }} 人\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<!-- 选择规格 -->\n\t\t\t\t<view class=\"option-item flex align-center\" v-if=\"isPhysicalGoods\" @tap=\"openSizePopup\">\n\t\t\t\t\t<label class=\"label\">已选</label>\n\t\t\t\t\t<view class=\"content flex-sub\">\n\t\t\t\t\t\t{{ selectArr.some(item => Boolean(item)) ? selectArr.join(';') : '请选择规格'}}\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"other\">\n\t\t\t\t\t\t<view class=\"other-icon\">\n\t\t\t\t\t\t\t<BIcon class=\"iconfont\" icon=\"right\" font-size=\"14\"/>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\r\n\t\t\t\n\t\t\t<!-- 适用门店  虚拟商品才有 -->\r\n\t\t\t<view class=\"section store\" v-if=\"goodsStores.total && isServiceGoods\">\r\n\t\t\t\t<view class=\"section_title flex align-center justify-between\">\n\t\t\t\t\t<text class=\"title\">适用机构( {{ goodsStores.total }} 家)</text>\n\t\t\t\t\t<more v-if=\"goodsStores.total > 1\" :url=\"'/pages/store/list?product=' + goodsDetail.id + '&type=1'\" moreText=\"查看更多\" style=\"display: block;\"/>\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"bg-white store_list\">\n\t\t\t\t\t<view v-for=\"(store, sIndex) in showGoodsStores\" :key=\"store.id\" class=\"store-list__item\">\n\t\t\t\t\t\t<CardServe\n\t\t\t\t\t\t\t:url=\"'/pages/store/store?type=1&id=' + store.id\"\n\t\t\t\t\t\t\t:img=\"store.cover_pic\"\n\t\t\t\t\t\t\t:name=\"store.name\"\n\t\t\t\t\t\t\t:rate=\"store.stars\"\n\t\t\t\t\t\t\t:phone=\"store.phone\"\n\t\t\t\t\t\t\tdescription=\" · 资质认证 · 健康认证 · 公安联网 \"\n\t\t\t\t\t\t\t:distance=\"`${store.distance/1000}km`\"\n\t\t\t\t\t\t\t:location=\"store.detailed_address\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\t\t\t\n\n\t\t\t<!-- 用户评价 -->\r\n\t\t\t<view class=\"section comment\">\n\t\t\t\t<view class=\"section_title\">\n\t\t\t\t\t<text class=\"title\">用户评价（{{ goodsComments.total_count || 0 }}）</text>\n\t\t\t\t\t<navigator url=\"/pages/goods/comment\" v-if=\"goodsComments.total_count\"><text class=\"subtitle\">好评度 <text class=\"third-color\">{{goodsComments.extra.good_comment_rate}}%</text></text></navigator>\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"comment-main\" v-if=\"goodsComments.total_count\">\n\t\t\t\t\t<view class=\"comment-collect\">\n\t\t\t\t\t\t<view class=\"comment-collect__item\">有图({{goodsComments.extra.good_comment_count}}) </view>\n\t\t\t\t\t\t<view class=\"comment-collect__item\">好评({{goodsComments.extra.had_pic_comment_count}}) </view>\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"comment-box\" v-for=\"item in goodsCommentList\" :key=\"item.id\">\r\n\t\t\t\t\t\t<view class=\"flex align-center justify-between\">\r\n\t\t\t\t\t\t\t<view class=\"flex align-center\">\r\n\t\t\t\t\t\t\t\t<view\r\n\t\t\t\t\t\t\t\t\tclass=\"cu-avatar round\"\r\n\t\t\t\t\t\t\t\t\t:style=\"{\r\n\t\t\t\t\t\t\t\t\t\tbackgroundImage: item.user_avatar ? 'url(' + item.user_avatar + ')' : ''\r\n\t\t\t\t\t\t\t\t\t}\" />\r\n\t\t\t\t\t\t\t\t<text class=\"comment-box__nickname\">{{ item.nickname }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<BRate :value=\"item.star\" size=\"16\"/>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"comment-box__content\">{{ item.body }}</view>\r\n\t\t\t\t\t\t<view-scroll v-if=\"item.img_pic\" scroll-x class=\"comment-box__img\">\r\n\t\t\t\t\t\t\t<image v-for=\"src in item.img_pic.split(',')\" :key=\"src\" :src=\"src\" class=\"comment-box__img-item\" />\r\n\t\t\t\t\t\t</view-scroll>\r\n\t\t\t\t\t\t<view class=\"comment-box__time\">{{ (item.create_time && item.create_time.split(' ')[0]) || ' '}}</view>\r\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<view class=\"morebtn\" v-if=\"goodsComments.total_count > 2\">\n\t\t\t\t\t\t<navigator url=\"/pages/goods/comment\" hover-class=\"none\">\n\t\t\t\t\t\t\t<view class=\"morebtn_more\">\n\t\t\t\t\t\t\t\t查看全部评价\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</navigator>\n\t\t\t\t\t</view>\t\t\t\t\t\r\n\t\t\t\t</view>\n\t\t\t\t<view v-else>\n\t\t\t\t\t<view class=\"morebtn_more\">\n\t\t\t\t\t\t暂无评论\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!-- 用户评价结束 -->\n\n\t\t\t<!-- 大家问 -->\n\t\t\t<view class=\"section allask\">\n\t\t\t\t<view class=\"section_title\">\n\t\t\t\t\t<text class=\"title\">大家问（{{ goodsConsult.total_count || 0 }}）</text>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"allask-wrap\">\n\t\t\t\t\t<template v-if=\"goodsConsultList.length\">\n\t\t\t\t\t\t<view v-for=\"(ask, index) in goodsConsultList\" :key=\"ask.id\">\n\t\t\t\t\t\t\t<navigator url=\"/pages/goods/consult\" hover-class=\"none\">\n\t\t\t\t\t\t\t\t<view class=\"flex align-center justify-between allask-item\">\n\t\t\t\t\t\t\t\t\t<view class=\"flex align-center allask_title\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"allask_title-icon\">\n\t\t\t\t\t\t\t\t\t\t\t<BIcon icon=\"bubble\" />\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t<text class=\"allask_title-text\">{{  ask.ask }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<text class=\"allask_num\">\n\t\t\t\t\t\t\t\t\t\t{{ ask.items_count }}个回答\n\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</navigator>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t<view class=\"text-center\">\n\t\t\t\t\t\t\t暂无问答\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</template>\n\t\t\t\t</view>\n\t\t\t\t\n\t\t\t\t<view class=\"morebtn\">\n\t\t\t\t\t<navigator url=\"/pages/goods/consult\" hover-class=\"none\">\n\t\t\t\t\t\t<view class=\"morebtn_more\">\n\t\t\t\t\t\t\t{{goodsConsultList.length ? '查看全部问答' : '去提问'}}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</navigator>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!-- 大家问 结束 -->\n\t\t\t\n\t\t\t<!-- 商品详情 -->\r\n\t\t\t<view class=\"panel details\">\r\n\t\t\t\t<view class=\"section_title\"><text class=\"title\">商品详情</text></view>\r\n\t\t\t\t<view class=\"bg-white-heavy\"><rich-text :nodes=\"goodsDetail.body | formatRichText\" /></view>\r\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 点击购买 -->\n\t\t\t<view :class=\"{'footer-opt': true, 'opt-bar': isPhysicalGoods}\">\n\t\t\t\t<template v-if=\"isServiceGoods\">\n\t\t\t\t\t<view class=\"buy-btn\" @click=\"goBuy\">\n\t\t\t\t\t\t立即购买\n\t\t\t\t\t</view>\n\t\t\t\t</template>\n\t\t\t\t<template v-else>\n\t\t\t\t\t<view v-if=\"seckillData\" class=\"opt-bar__main opt-bar__seckill\">\n\t\t\t\t\t\t<view class=\"opt-bar__btn flex justify-between align-center\">\n\t\t\t\t\t\t\t<view v-if=\"seckillStatus === 'unstart'\" class=\"common-btn btn tocart disabled\">\n\t\t\t\t\t\t\t\t即将开始\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<view v-if=\"seckillStatus === 'duration'\" class=\"common-btn btn tocart\" @click=\"goBuy('seckill')\">\n\t\t\t\t\t\t\t\t立即抢购\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<view v-if=\"seckillStatus === 'end'\" class=\"common-btn btn tocart disabled\">\n\t\t\t\t\t\t\t\t立即抢购\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<view class=\"common-btn btn tobuy\" @tap=\"goBuy\">\n\t\t\t\t\t\t\t\t原价购买\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view v-else class=\"opt-bar__main flex justify-between align-center\">\n\t\t\t\t\t\t<navigator url=\"/pages/cart/cart\" open-type=\"switchTab\" hover-class=\"none\">\n\t\t\t\t\t\t\t<view class=\"cart_box flex justify-center align-center\">\n\t\t\t\t\t\t\t\t<view class=\"cart_main\">\n\t\t\t\t\t\t\t\t\t<view class=\"badge\">{{ cartNum }}</view>\n\t\t\t\t\t\t\t\t\t<BIcon icon=\"cart\" font-size=\"24\"></BIcon>\n\t\t\t\t\t\t\t\t\t<text class=\"font\">购物车</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</navigator>\n\t\t\t\t\t\t<view class=\"opt-bar__btn flex align-center justify-between\">\n\t\t\t\t\t\t\t<view class=\"common-btn btn tocart\" @tap=\"addCart\">\n\t\t\t\t\t\t\t\t加入购物车\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"common-btn btn tobuy\" @tap=\"goBuy\">\n\t\t\t\t\t\t\t\t立即购买\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</template>\n\t\t\t</view>\n\t\t\t\n\t\t\t\n\t\t\t<!-- 优惠券 -->\n\t\t\t<uniPopup :mask-click=\"true\" type=\"bottom\" ref=\"couponsPopup\">\n\t\t\t\t<view class=\"popup-main\">\n\t\t\t\t\t<view class=\"popup-hd flex align-center justify-between\">\n\t\t\t\t\t\t<text>可领优惠券 （领取后用于购买商品优惠）</text>\n\t\t\t\t\t\t<view class=\"\" @tap=\"closeCpuponsPopup\">\n\t\t\t\t\t\t\t<BIcon icon=\"cancel\" font-size=\"20\"/>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<scroll-view scroll-y class=\"coupons-popup__bd\">\n\t\t\t\t\t\t<view v-for=\"(coupons, index) in eableCoupons\" :key=\"index\">\n\t\t\t\t\t\t\t<view class=\"coupons-popup__item flex\" :class=\"{'coupons-popup__item--received': coupons.received_count}\">\n\t\t\t\t\t\t\t\t<view class=\"coupons-popup__item-type\">\n\t\t\t\t\t\t\t\t\t<view class=\"price\">\n\t\t\t\t\t\t\t\t\t\t¥ <text class=\"text\">{{ coupons.amount }}</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t<view class=\"condition text-center\">{{ coupons.coupon.min_point > 0 ? '满' + coupons.coupon.min_point + '可用' : '无门槛' }}</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"coupons-popup__item-info\">\n\t\t\t\t\t\t\t\t\t<view class=\"name\">{{ coupons.name }}</view>\n\t\t\t\t\t\t\t\t\t<view class=\"opt flex align-center justify-between\">\n\t\t\t\t\t\t\t\t\t\t<text class=\"date\">{{ coupons.start_time && timeHandler(coupons.start_time) }} - {{ coupons.end_time && timeHandler(coupons.end_time) }}</text>\n\t\t\t\t\t\t\t\t\t\t<text class=\"btn primary-btn\" @tap=\"drawCoupons(coupons)\">\n\t\t\t\t\t\t\t\t\t\t\t{{ coupons.received_count ? '已领取' : '立即领取'}}\n\t\t\t\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</scroll-view>\n\t\t\t\t</view>\n\t\t\t</uniPopup>\n\n\t\t\t<!-- 商品规格 -->\n\t\t\t<uniPopup :mask-click=\"true\" type=\"bottom\" ref=\"sizePopup\">\n\t\t\t\t<view class=\"popup-size\" :style=\"{height: phoneHeight * 0.75 + 'px'}\">\n\t\t\t\t\t<view class=\"popup-size__cancel\" @tap=\"closeSizePopup\">\n\t\t\t\t\t\t<BIcon icon=\"cancel\" font-size=\"20\"/>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"popup-size__main\">\n\t\t\t\t\t\t<!-- 商品信息 -->\n\t\t\t\t\t\t<view class=\"popup-size__item popup-size__goods\" :class=\"{ 'popup-size__virtual': isPhysicalGoods}\">\n\t\t\t\t\t\t\t<view class=\"image\">\n\t\t\t\t\t\t\t\t<image class=\"image-main\" :src=\"currSelectDetail.cover_pic\" mode=\"\"></image>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"popup-size__goods-info\">\n\t\t\t\t\t\t\t\t<view class=\"price\">\n\t\t\t\t\t\t\t\t\t¥ <text class=\"text\">{{ currSelectDetail.price }}</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"choose\">\n\t\t\t\t\t\t\t\t\t<text class=\"text\">已选择</text>\n\t\t\t\t\t\t\t\t\t<view class=\"name\">\n\t\t\t\t\t\t\t\t\t\t{{ hasSelectedSize ? selectArr.join(';') : '请选择规格'}}\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<!-- 实物商品 -->\n\t\t\t\t\t\t<scroll-view scroll-y=\"true\" style=\"height: calc(100% - 156upx);overflow: hidden;\">\n\t\t\t\t\t\t\t<view class=\"popup-size__physical\" v-if=\"isPhysicalGoods\">\n\t\t\t\t\t\t\t\t<!-- 商品规格 -->\n\t\t\t\t\t\t\t\t<view class=\"popup-size__item popup-size__size\" v-for=\"(produceItem, index) in sizeData\" :key=\"index\">\n\t\t\t\t\t\t\t\t\t<label class=\"label\">{{ produceItem.name }}</label>\n\t\t\t\t\t\t\t\t\t<view \n\t\t\t\t\t\t\t\t\t\tclass=\"size-item\" \n\t\t\t\t\t\t\t\t\t\tv-for=\"(res, resIndex) in produceItem.item\" \n\t\t\t\t\t\t\t\t\t\t:key=\"resIndex\" \n\t\t\t\t\t\t\t\t\t\t@tap=\"selectItem(res.name,index,$event,resIndex)\" \n\t\t\t\t\t\t\t\t\t\t:class=\"[res.isShow ? '': 'disabled',subIndex[index] == resIndex? 'active' : '']\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{{ res.name }}\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<!-- 商品数量 -->\n\t\t\t\t\t\t\t\t<view class=\"popup-size__item popup-size__num\">\n\t\t\t\t\t\t\t\t\t<label class=\"label\">数量</label>\n\t\t\t\t\t\t\t\t\t<view class=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t<uniNumberBox :min=\"1\" :value=\"buyNum\" :max=\"currSelectDetail.stock\" @change=\"numboxHandler\" />\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"popup-size__virtual\" v-else>\n\t\t\t\t\t\t\t\t<view class=\"popup-size__item state\">\n\t\t\t\t\t\t\t\t\t<!-- <view class=\"text-bold label\">项目说明</view>\n\t\t\t\t\t\t\t\t\t<view style=\"margin-top: 24upx;\">\n\t\t\t\t\t\t\t\t\t\t<text>有效期</text>\n\t\t\t\t\t\t\t\t\t\t<text>2020-05-17-2020-12-31</text>\n\t\t\t\t\t\t\t\t\t</view> -->\n\t\t\t\t\t\t\t\t\t<view style=\"margin-top: 24upx;\">\n\t\t\t\t\t\t\t\t\t\t<view class=\"text-bold label\">\n\t\t\t\t\t\t\t\t\t\t\t服务说明：\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"\" style=\"margin-top: 12upx;\">\n\t\t\t\t\t\t\t\t\t\t\t· 提前1天预约\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t\t<view class=\"\" style=\"margin-top: 12upx;\">\n\t\t\t\t\t\t\t\t\t\t\t· 服务时长30-60分钟\n\t\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view v-if=\"false\" class=\"popup-size__item flex justify-between align-center\">\n\t\t\t\t\t\t\t\t\t<label class=\"label\">数量</label>\n\t\t\t\t\t\t\t\t\t<view class=\"text-right\">\n\t\t\t\t\t\t\t\t\t\t<uniNumberBox :min=\"1\" :value=\"buyNum\" :max=\"goodsDetail.stock\" @change=\"numboxHandler\" />\n\t\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</scroll-view>\n\t\t\t\t\t</view>\n\t\t\t\t\t\n\t\t\t\t\t<!-- 确定 -->\n\t\t\t\t\t<button class=\"popup-size__submit buy-btn\" :disabled=\"confirmLoading && hasSelectedSize\" @tap=\"orderConfirm\">\n\t\t\t\t\t\t确定\n\t\t\t\t\t</button>\n\t\t\t\t</view>\n\t\t\t</uniPopup>\n\t\t\t\n\t\t\t\r\n\t\t\t<!-- 二维码弹窗 -->\r\n\t\t\t<!-- <uni-popup ref=\"showQcCode\" :mask-click=\"true\">\r\n\t\t\t\t<view class=\"uni-image\">\r\n\t\t\t\t\t<image class=\"image\" src=\"/static/opt/qc_code.jpg\" mode=\"scaleToFill\" />\r\n\t\t\t\t\t<view class=\"uni-image-close\" @click=\"cancel_popup\"><uni-icons type=\"clear\" color=\"#fff\" size=\"30\" /></view>\r\n\t\t\t\t</view>\r\n\t\t\t</uni-popup> -->\r\n\t\t</view>\n\t\t\n\t\t\r\n\t\t<view v-else><blank-item :type=\"'goods'\" /></view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\nimport BRate from '@/components/rate/index.vue'\nimport CardServe from '@/components/card/cardserve.vue'\nimport uniPopup from '@/components/uni-popup/uni-popup.vue'\nimport { mapActions, mapState, mapMutations,mapGetters  } from 'vuex'\nimport uniNumberBox from \"@/components/uni-ui/uni-number-box/uni-number-box.vue\"\nimport Timer from '@/utils/time.js'\nimport CouponsServices from '@/services/coupons.js'\nimport GoodsServices from '@/services/goods.js'\nimport more from '@/components/more/index.vue'\nimport { isBeforeTime, isAfterTime } from '@/utils/helper.js'\n\r\nexport default {\r\n\tcomponents: { \n\t\tBRate,\n\t\tCardServe,\n\t\tuniPopup,\n\t\tuniNumberBox,\n\t\tmore,\n\t},\r\n\tcomputed: {\n\t\t...mapState({\n\t\t\tcurrUser: state => state.my.currUser,\n\t\t\tgoodsDetail: state => state.goods.goodsDetail,\n\t\t\tgoodsConsult: state => state.goods.goodsConsult,\n\t\t\tgoodsComments: state => state.goods.goodsComments,\n\t\t\tgoodsCoupons: state => state.goods.goodsCoupons,\n\t\t\tgoodsTotalComments: state => state.goods.goodsTotalComments,\n\t\t\tgoodsCommentRate: state => state.goods.goodsCommentRate,\n\t\t\t\n\t\t\tcartListData: state => state.cart.cartListData,\n\t\t\t\n\t\t\tcouponsList: state => state.goods.couponsList,\n\t\t\tgoodsStores: state => state.goods.goodsStores,\n\t\t}),\n\t\tisPlus() {\n\t\t\treturn this.currUser.is_plus\n\t\t},\n\t\tisPhysicalGoods() {\n\t\t\treturn this.goodsDetail.product_type == 0\n\t\t},\n\t\tisServiceGoods() {\n\t\t\treturn this.goodsDetail.product_type == 1\n\t\t},\n\t\t// 能领取的优惠券\n\t\teableCoupons() {\n\t\t\tif (!this.couponsList.items) return []\n\t\t\t\n\t\t\treturn this.couponsList.items\n\t\t},\n\t\t// 是否有规格\n\t\tisHasSpec() {\n\t\t\treturn this.goodsDetail.attribute_list && this.goodsDetail.attribute_list.length\n\t\t},\r\n\t\tgoodsImgList() {\r\n\t\t\treturn this.goodsDetail.img_list\r\n\t\t},\n\t\tgoodsConsultList() {\n\t\t\tlet consultList = this.goodsConsult && this.goodsConsult.items\n\n\t\t\tif (!consultList) return []\n\t\t\tif (!consultList.length) return []\n\t\t\t\n\t\t\treturn [...consultList].slice(0, 2)\n\t\t},\n\t\tshowGoodsStores() {\n\t\t\tif (!this.goodsStores && !!this.goodsStores.total) return []\n\t\t\t\n\t\t\tif (this.goodsStores.total > 1) {\n\t\t\t\treturn this.goodsStores.items && this.goodsStores.items.slice(0, 1)\n\t\t\t}\n\t\t\t\n\t\t\treturn this.goodsStores.items\n\t\t},\n\t\tgoodsCommentList() {\n\t\t\tlet commentList = this.goodsComments && this.goodsComments.items\n\n\t\t\tif (!commentList) return []\n\t\t\tif (!commentList.length) return []\n\t\t\t\n\t\t\treturn [...commentList].slice(0, 2)\n\t\t},\n\t\tphoneHeight() {\n\t\t\treturn this.PhoneHeight\n\t\t},\n\t\tcurrSelectDetail() {\n\t\t\tconst selectArrStr = this.selectArr.join(',')\n\t\t\tconst detail = this.shopItemInfo[selectArrStr]\n\t\t\tif (detail) {\n\t\t\t\treturn detail\n\t\t\t}\n\t\t\t\n\t\t\tconst { cover_pic, id, price, plus_price, stock } = this.goodsDetail\n\t\t\t\n\t\t\treturn {\n\t\t\t\tcover_pic, id, price, plus_price, stock\n\t\t\t}\n\t\t},\n\t\thasSelectedSize() {\n\t\t\t// 是否已经选中规格\n\t\t\tconst select = this.selectArr\n\t\t\tlet hasSelect = true\n\t\t\tfor (let i = 0; i < this.sizeData.length; i++) {\n\t\t\t\tif (!select[i]) {\n\t\t\t\t\thasSelect = false\n\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn hasSelect\n\t\t},\n\t\t// 购物车数量\n\t\tcartNum() {\n\t\t\tlet num = 0\n\t\t\tif (this.cartListData.length) {\n\t\t\t\tthis.cartListData.forEach(store => {\n\t\t\t\t\tstore && store.products.length && store.products.forEach(pro => num++)\n\t\t\t\t})\n\t\t\t}\n\t\t\treturn num\n\t\t},\n\t\treceivedCoupons() {\n\t\t\tif (!this.goodsCoupons.items) return []\n\t\t\t\n\t\t\treturn this.goodsCoupons.items.map(item => {\n\t\t\t\tif (item.received_count > 0) {\n\t\t\t\t\treturn item.id\n\t\t\t\t}\n\t\t\t})\n\t\t},\n\t\t// 秒杀\n\t\tseckillData() {\n\t\t\tif (this.goodsDetail && this.goodsDetail.seckill) {\n\t\t\t\treturn this.goodsDetail && this.goodsDetail.seckill\n\t\t\t}\n\t\t\treturn null\n\t\t},\n\t\tisSeckillBefore() {\n\t\t\tif (!this.seckillStart) return null\n\t\t\treturn isBeforeTime(new Date(), this.seckillStart)\n\t\t},\n\t\tisSeckillDuration() {\n\t\t\tif (!this.seckillStart || !this.seckillEnd) return null\n\t\t\tconst curr = new Date()\n\t\t\treturn isAfterTime(curr, this.seckillStart) && isBeforeTime(curr, this.seckillEnd)\n\t\t},\n\t\tisSeckillEnd() {\n\t\t\tif (!this.seckillEnd) return null\n\t\t\tconst curr = new Date()\n\t\t\treturn isAfterTime(curr, this.seckillStart) && isAfterTime(curr, this.seckillEnd)\n\t\t},\r\n\t},\r\n\tdata() {\r\n\t\treturn {\n\t\t\timage_path: this.$cfg.image_path,\r\n\t\t\tscrollTop: 0,\r\n\t\t\tcurrent: 0,\r\n\t\t\tcpage: 0,\r\n\t\t\tcpageSize: 5,\r\n\t\t\tproductId: '',\r\n\t\t\tstoreId: null,\r\n\t\t\tnearestStore: '',\n\t\t\t\n\t\t\tselectArr: [], // 存放被选中的值\n\t\t\tsubIndex: [], // 是否选中 因为不确定是多规格还是但规格，所以这里定义数组来判断\n\t\t\tsizeData: [],\n\t\t\tshopItemInfo: {},\n\t\t\tbuyNum: 1,\n\t\t\taction: '', // addcart buynow\n\t\t\tseckillStart: null,\n\t\t\tseckillEnd: null,\n\t\t\tcurrTime: '00:00:00',\n\t\t\tseckillStatus: 'unstart',  // 'unstart' 'end' 'duration'\n\t\t\t\n\t\t\tconfirmLoading: false, // 弹出框防止多次点击\r\n\t\t};\r\n\t},\r\n\tmethods: {\n\t\t...mapMutations({\n\t\t\tDRAW_COUPONS: 'goods/DRAW_COUPONS',\n\t\t}),\n\t\t...mapActions({\n\t\t\tGET_GOODS_DETAIL: 'goods/GET_GOODS_DETAIL',\n\t\t\tGET_GOODS_CONSULTS: 'goods/GET_GOODS_CONSULTS',\n\t\t\tGET_GOODS_COMMENTS: 'goods/GET_GOODS_COMMENTS',\n\t\t\tGET_GOODS_STORES: 'goods/GET_GOODS_STORES',\n\t\t\t\n\t\t\tGET_ALL_COUPONS: 'goods/GET_ALL_COUPONS',\n\t\t\t// 将商品加入购物车\n\t\t\tSET_GOODS_TO_CART: 'cart/SET_GOODS_TO_CART',\n\t\t\tGET_CART_LIST: 'cart/GET_CART_LIST',\n\t\t\tSETTLEMEN_GOODS: 'cart/SETTLEMEN_GOODS',\n\t\t}),\n\t\tshopItemInfoHandler() {\n\t\t\t// 规格数据处理\n\t\t\tlet result = {}\n\t\t\tconst attributeList = this.goodsDetail.attribute_list\n\t\t\tif (attributeList && attributeList[0]) {\n\t\t\t\tconst listData = attributeList[0]\n\t\t\t\t\n\t\t\t\tlistData.forEach(item => {\n\t\t\t\t\tlet Arr = []\n\t\t\t\t\titem.specs.forEach(spec => {\n\t\t\t\t\t\t// 取键值对\n\t\t\t\t\t\tObject.keys(spec).forEach(v => {\n\t\t\t\t\t\t\tArr.push(spec[v])\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t\t\n\t\t\t\t\tlet ArrStr = Arr.join(',')\n\t\t\t\t\tresult[ArrStr] = item\n\t\t\t\t})\n\t\t\t}\n\t\t\tthis.shopItemInfo = result\n\t\t},\n\t\tsizeDataHandler() {\n\t\t\t// 规格数据处理\n\t\t\tlet arr = []\n\t\t\tconst attributeList = this.goodsDetail.attribute_list\n\t\t\tif (attributeList && attributeList[0]) {\n\t\t\t\tconst listData = attributeList[0]\n\t\t\t\t\n\t\t\t\tlet size = {}\n\t\t\t\tlistData.forEach(item => {\n\t\t\t\t\titem.specs.forEach(spec => {\n\t\t\t\t\t\t// 取键值对\n\t\t\t\t\t\tObject.keys(spec).forEach(v => {\n\t\t\t\t\t\t\tif (v in size) {\n\t\t\t\t\t\t\t\tif (size[v].indexOf(spec[v]) < 0) {\n\t\t\t\t\t\t\t\t\tsize[v].push(spec[v])\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}else {\n\t\t\t\t\t\t\t\tsize[v] = []\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t})\n\t\t\t\t\t})\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t// 第二次处理\n\t\t\t\tfor (let res in size) {\n\t\t\t\t\tlet result = {}\n\t\t\t\t\tresult.name = res\n\t\t\t\t\tresult.item = []\n\t\t\t\t\tsize[res].forEach(s => {\n\t\t\t\t\t\tresult.item.push({'name': s})\n\t\t\t\t\t})\n\t\t\t\t\t// result.item = size[res]\n\t\t\t\t\tarr.push(result)\n\t\t\t\t}\n\t\t\t\t\n\t\t\t}\n\t\t\t\n\t\t\tthis.sizeData = arr\n\t\t},\n\t\t// 商品规格\n\t\tselectItem(item, n, event, index) {\r\n\t\t\tif (this.selectArr[n] != item) {\n\t\t\t\tthis.$set(this.selectArr, n, item)\n\t\t\t\tthis.$set(this.subIndex, n, index)\r\n\t\t\t} else {\n\t\t\t\tthis.$set(this.selectArr, n, '')\n\t\t\t\tthis.$set(this.subIndex, n, -1)\r\n\t\t\t}\r\n\t\t\tthis.checkItem()\n\t\t},\n\t\tcheckItem() {\r\n\t\t\tconst option = this.sizeData\r\n\t\t\tvar result = [] //定义数组储存被选中的值\r\n\t\t\tfor (var i in option) {\r\n\t\t\t\tresult[i] = this.selectArr[i] ? this.selectArr[i] : ''\r\n\t\t\t}\r\n\t\t\tfor (var i in option) {\r\n\t\t\t\tvar last = result[i]; //把选中的值存放到字符串last去\r\n\t\t\t\tfor (var k in option[i].item) {\r\n\t\t\t\t\tresult[i] = option[i].item[k].name; //赋值，存在直接覆盖，不存在往里面添加name值\n\t\t\t\t\toption[i].item[k].isShow = this.isMay(result); //在数据里面添加字段isShow来判断是否可以选择\r\n\t\t\t\t}\r\n\t\t\t\tresult[i] = last; //还原，目的是记录点下去那个值，避免下一次执行循环时被覆盖\r\n\t\t\t}\r\n\t\t\tthis.$forceUpdate(); //重绘\r\n\t\t},\r\n\t\tisMay(result) {\r\n\t\t\tfor (var i in result) {\r\n\t\t\t\tif (result[i] == '') {\r\n\t\t\t\t\treturn true; //如果数组里有为空的值，那直接返回true\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn this.shopItemInfo[result].stock == 0 ? false : true; //匹配选中的数据的库存，若不为空返回true反之返回false\r\n\t\t},\n\t\ttimeHandler(timeStr) {\n\t\t\tif (!timeStr) return ''\n\t\t\t\n\t\t\tconst timeData = new Date(timeStr)\n\t\t\t\n\t\t\treturn Timer.dateFormat(timeData, '{Y}.{MM}.{DD}')\n\t\t},\t\t\t\n\t\t// 商品规格结束\r\n\t\tswiperChange(e) {\r\n\t\t\tthis.current = e.target.current\r\n\t\t},\r\n\t\tcancel_popup() {\r\n\t\t\tthis.$refs.showQcCode.close();\r\n\t\t},\r\n\t\topen_popup() {\r\n\t\t\tthis.$refs.showQcCode.open();\r\n\t\t},\n\t\t// 打开领券弹窗\n\t\topenCouponsPopup() {\n\t\t\tthis.$refs.couponsPopup.open();\n\t\t},\n\t\tcloseCpuponsPopup() {\n\t\t\tthis.$refs.couponsPopup.close();\n\t\t},\n\t\t// 打开选择规格\n\t\topenSizePopup() {\n\t\t\tthis.$refs.sizePopup.open();\n\t\t},\n\t\tcloseSizePopup() {\n\t\t\tthis.$refs.sizePopup.close();\n\t\t},\t\n\t\tnumboxHandler(val) {\n\t\t\tif (val != this.buyNum) {\n\t\t\t\tthis.buyNum = val\n\t\t\t}\n\t\t},\n\t\taddCart() {\n\t\t\tthis.action = 'addcart'\n\t\t\tthis.openSizePopup()\n\t\t},\n\t\tasync postAddCart() {\n\t\t\tlet hasChoose = this.hasSelectedSize\t\t\t\n\t\t\t// 已选择尺寸\n\t\t\tconst params = {\n\t\t\t\tproduct_num: this.buyNum,\n\t\t\t\t// store_id: this.goodsDetail.store_listing  // 从店铺进去的话就要把这个 store_id 存下来,因为一个商品是可以多个店铺同时卖的，如果直接访问的商品详情的话 就不传了\n\t\t\t}\n\t\t\t\n\t\t\t// 是否有规格\n\t\t\tif (this.isHasSpec) {\n\t\t\t\tparams.spec_id = this.currSelectDetail.id\n\t\t\t}else {\n\t\t\t\tparams.product_id = this.goodsDetail.id\n\t\t\t}\n\t\t\t\n\t\t\t// 没选中规格\n\t\t\tif (!hasChoose) {\n\t\t\t\treturn uni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle: '请选择规格',\n\t\t\t\t\tduration: 2000\n\t\t\t\t})\n\t\t\t}\t\t\t\n\t\t\t\n\t\t\t// 禁止按钮点击\n\t\t\tthis.confirmLoading = true\n\t\t\ttry{\n\t\t\t\tawait this.SET_GOODS_TO_CART(params)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'success',\n\t\t\t\t\ttitle: '商品在购物车等你',\n\t\t\t\t\tduration: 2000\n\t\t\t\t})\n\t\t\t\tthis.GET_CART_LIST()\n\t\t\t\tthis.closeSizePopup()\n\t\t\t}catch(e){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle: '加入购物车失败',\n\t\t\t\t\tduration: 2000\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n\t\t\tthis.confirmLoading = false\n\t\t},\r\n\t\tgoBuy(type) {\n\t\t\tthis.action = type || 'buynow'\n\t\t\tthis.openSizePopup()\r\n\t\t},\n\t\t// 点击商品弹出窗 规格/数量之后点击确定\n\t\torderConfirm() {\n\t\t\t// 从加入购物车进来\n\t\t\tif (this.action == 'addcart') {\n\t\t\t\treturn this.postAddCart()\n\t\t\t}\n\t\t\n\t\t\t\n\t\t\t// 从立即购买进来\n\t\t\t// 是否已选中内容\n\t\t\tlet hasChoose = this.hasSelectedSize\n\t\t\t\n\t\t\t// 没选中规格\n\t\t\tif (!hasChoose) {\n\t\t\t\treturn uni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle: '请选择规格',\n\t\t\t\t\tduration: 2000\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n\t\t\t// 禁止按钮点击\n\t\t\tthis.confirmLoading = true\n\t\t\t\n\t\t\tconst { id, product_id, store_id } = this.goodsDetail\n\t\t\tconst params = {\n\t\t\t\tproduct_id: id,\n\t\t\t\tstore_id: 1,\n\t\t\t\tproduct_num: this.buyNum,\n\t\t\t\t// address_id: 1,\n\t\t\t\t// coupon_item_id: this.receivedCoupons, //优惠券id\n\t\t\t}\n\t\t\t\n\t\t\t// 秒杀\n\t\t\tif (this.action == 'seckill' && this.seckillData) {\n\t\t\t\tparams.seckill_id = this.seckillData.id\n\t\t\t}\n\t\t\t\n\t\t\t// 虚拟商品\n\t\t\tif (this.isServiceGoods) {\n\t\t\t\tdelete params.product_num\n\t\t\t\t// 直接下单\n\t\t\t\tthis.settlementGoods(id, params, 2)\n\t\t\t}\n\t\t\t// 实物商品\n\t\t\tif (this.isPhysicalGoods) {\n\t\t\t\t// 是否有规格，有规格就 spec_id 没有就product_id\n\t\t\t\tif (this.isHasSpec) {\n\t\t\t\t\tparams.spec_id = this.currSelectDetail.id\n\t\t\t\t}\n\t\t\t\t// 直接下单\n\t\t\t\tthis.settlementGoods(id, params, 1)\n\t\t\t}\n\t\t\t\n\t\t\tthis.confirmLoading = false\n\t\t},\n\t\t// 直接购买商品\n\t\tasync settlementGoods(id, data, orderType) {\n\t\t\ttry{\n\t\t\t\tawait this.SETTLEMEN_GOODS({id, data})\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/pages/cart/submit?settle=true&order_type=${orderType}`\n\t\t\t\t})\n\t\t\t}catch(e){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle: e.message,\n\t\t\t\t\tduration: 2000\n\t\t\t\t})\n\t\t\t}\n\t\t},\r\n\t\tasync getList() {\r\n\t\t\tconst data = {\r\n\t\t\t\tpage: this.cpage,\r\n\t\t\t\tpageSize: this.cpageSize,\r\n\t\t\t\tproductId: this.productId\r\n\t\t\t};\r\n\t\t\tawait this.getCommentList(data);\r\n\t\t},\r\n\t\tasync getStore() {\r\n\t\t\tconst data = {\r\n\t\t\t\tpage: this.cpage,\r\n\t\t\t\tpageSize: 1,\r\n\t\t\t\tsortValue: '2',\r\n\t\t\t\tsortText: 'ASC',\r\n\t\t\t\tlonSort: 'ASC',\r\n\t\t\t\tlongitude: this.ad_info.location.lng,\r\n\t\t\t\tlatitude: this.ad_info.location.lat,\r\n\t\t\t\tproductId: this.productId\r\n\t\t\t};\r\n\t\t\tawait this.getStoreListData(data);\r\n\t\t},\n\t\tasync drawCoupons(data) {\n\t\t\tif (!data.can_receive) return\n\t\t\tconst id = data.id\n\t\t\ttry{\n\t\t\t\tawait CouponsServices.getCoupons(id)\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'success',\n\t\t\t\t\ttitle: '领取成功',\n\t\t\t\t\tduration: 2000\n\t\t\t\t})\n\t\t\t\tthis.GET_ALL_COUPONS()\n\t\t\t}catch(e){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle: e.message,\n\t\t\t\t\tduration: 2000\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n\t\t},\r\n\t\t// 秒杀倒计时\n    countdownTime(startTime, endTime) {\n\t  \tlet interval = setInterval(() => {\n\t\t\t\tconst now = new Date()\n\t\t\t\tconst start = new Date(startTime)\n\t\t\t\tconst end = new Date(endTime)\n\t\t\t\t\n\t\t\t\t// 还未开始\n\t\t\t\tif ((start - now) > 0) {\n\t\t\t    let time = (start - now) / 1000\n\t\t\t    // 获取时、分、秒,毫秒\n\t\t\t    let hou = parseInt((time % (60 * 60 * 24)) / 3600)<10?('0'+parseInt((time % (60 * 60 * 24)) / 3600)):parseInt((time % (60 * 60 * 24)) / 3600)\n\t\t\t    let min = parseInt(((time % (60 * 60 * 24)) % 3600) / 60)<10?('0'+parseInt(((time % (60 * 60 * 24)) % 3600) / 60)):parseInt(((time % (60 * 60 * 24)) % 3600) / 60);\n\t\t\t    let sec = parseInt(((time % (60 * 60 * 24)) % 3600) % 60)<10?('0'+parseInt(((time % (60 * 60 * 24)) % 3600) % 60)):parseInt(((time % (60 * 60 * 24)) % 3600) % 60);\n\t\t\t    //that.ssec= parseInt(((date % (60 * 60 * 24)) % 3600) / 60)%10\n\t\t\t\t\tthis.currTime = `${hou}:${min}:${sec}`\n\t\t\t\t\tthis.seckillStatus = 'unstart'\n\t\t\t\t} else if ((now - end) > 0) {\n\t\t\t\t\t// 结束了\n\t\t\t\t\tthis.currTime = `00:00:00`\n\t\t\t\t\tthis.seckillStatus = 'end'\n\t\t\t\t\tclearInterval(interval)\n\t\t\t\t}else {\n\t\t\t\t\t// 正在开始\n\t\t\t\t\tlet time = (end - now) / 1000\n\t\t\t    // 获取时、分、秒,毫秒\n\t\t\t    let hou = parseInt((time % (60 * 60 * 24)) / 3600)<10?('0'+parseInt((time % (60 * 60 * 24)) / 3600)):parseInt((time % (60 * 60 * 24)) / 3600)\n\t\t\t    let min = parseInt(((time % (60 * 60 * 24)) % 3600) / 60)<10?('0'+parseInt(((time % (60 * 60 * 24)) % 3600) / 60)):parseInt(((time % (60 * 60 * 24)) % 3600) / 60);\n\t\t\t    let sec = parseInt(((time % (60 * 60 * 24)) % 3600) % 60)<10?('0'+parseInt(((time % (60 * 60 * 24)) % 3600) % 60)):parseInt(((time % (60 * 60 * 24)) % 3600) % 60);\n\t\t\t\t\tthis.currTime = `${hou}:${min}:${sec}`\n\t\t\t\t\tthis.seckillStatus = 'duration'\n\t\t\t\t}\n  \t\t},100)\n  \t},\n\n\t},\r\n\tfilters: {\r\n\t\t/**\r\n\t\t * 处理富文本里的图片宽度自适应\r\n\t\t * 1.去掉img标签里的style、width、height属性\r\n\t\t * 2.img标签添加style属性：max-width:100%;height:auto\r\n\t\t * 3.修改所有style里的width属性为max-width:100%\r\n\t\t * 4.去掉<br/>标签\r\n\t\t * @param html\r\n\t\t * @returns {void|string|*}\r\n\t\t */\r\n\t\tformatRichText(html) {\r\n\t\t\t//控制小程序中图片大小\r\n\t\t\tlet newContent =\r\n\t\t\t\thtml &&\r\n\t\t\t\thtml.replace(/<img[^>]*>/gi, function(match, capture) {\r\n\t\t\t\t\tmatch = match.replace(/style=\"[^\"]+\"/gi, '').replace(/style='[^']+'/gi, '');\r\n\t\t\t\t\tmatch = match.replace(/width=\"[^\"]+\"/gi, '').replace(/width='[^']+'/gi, '');\r\n\t\t\t\t\tmatch = match.replace(/height=\"[^\"]+\"/gi, '').replace(/height='[^']+'/gi, '');\r\n\t\t\t\t\treturn match;\r\n\t\t\t\t});\r\n\t\t\tnewContent =\r\n\t\t\t\tnewContent &&\r\n\t\t\t\tnewContent.replace(/style=\"[^\"]+\"/gi, function(match, capture) {\r\n\t\t\t\t\tmatch = match && match.replace(/width:[^;]+;/gi, 'max-width:100%;').replace(/width:[^;]+;/gi, 'max-width:100%;');\r\n\t\t\t\t\treturn match;\r\n\t\t\t\t});\r\n\t\t\tnewContent = newContent && newContent.replace(/<br[^>]*\\/>/gi, '');\r\n\t\t\tnewContent = newContent && newContent.replace(/\\<img/gi, '<img style=\"max-width:100%;height:auto;display:inline-block;margin:10upx auto;\"');\r\n\t\t\treturn newContent;\r\n\t\t}\r\n\t},\r\n\tasync onReachBottom() {\r\n\t\tif (this.goodsComments.length < this.goodsTotalComments) {\r\n\t\t\tthis.cpage = this.cpage + 1;\r\n\t\t\tawait this.getList();\r\n\t\t}\r\n\t},\r\n\tasync onLoad(option) {\r\n\t\tuni.showLoading({\r\n\t\t\ttitle: '加载中...',\r\n\t\t\tmask: true\r\n\t\t});\r\n\r\n\t\t// this.$saveShareId(option); // 保存分享人ID\r\n\t\tif (option.storeId || option.scene || option.id) {\r\n\t\t\t// 识别传入的门店id参数\r\n\t\t\tif (option.scene) {\r\n\t\t\t\t// 扫码打开支付页面\r\n\t\t\t\tconst scene = decodeURIComponent(option.scene);\r\n\t\t\t\tconst wxArgs = this.$qs.parse(scene);\r\n\t\t\t\tconsole.log(wxArgs);\r\n\t\t\t\tif (wxArgs.storeId) {\r\n\t\t\t\t\tthis.storeId = wxArgs.storeId;\r\n\t\t\t\t}\r\n\t\t\t\tif (wxArgs.productId) {\r\n\t\t\t\t\tthis.productId = wxArgs.productId;\r\n\t\t\t\t}\r\n\t\t\t\tif (wxArgs.sid) {\r\n\t\t\t\t\t// 门店id——sid\r\n\t\t\t\t\tthis.storeId = wxArgs.sid;\r\n\t\t\t\t}\r\n\t\t\t\tif (wxArgs.pid) {\r\n\t\t\t\t\t// 商品id--pid\r\n\t\t\t\t\tthis.productId = wxArgs.pid;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t// 普通方式打开页面\r\n\t\t\t\tif (option.storeId) {\r\n\t\t\t\t\tthis.storeId = option.storeId;\r\n\t\t\t\t}\r\n\t\t\t\tif (option.id) {\r\n\t\t\t\t\tthis.productId = option.id;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// 传参错误则跳转首页\r\n\t\t\tuni.showToast({\r\n\t\t\t\ttitle: '参数错误，跳转首页',\r\n\t\t\t\ticon: 'none'\r\n\t\t\t});\r\n\t\t\t// return uni.reLaunch({\r\n\t\t\t// \turl: '/pages/index/index'\r\n\t\t\t// });\r\n\t\t}\r\n\t\ttry{\n\t\t\tawait Promise.all([\n\t\t\t\tthis.GET_GOODS_DETAIL(this.productId),\n\t\t\t\tthis.GET_GOODS_CONSULTS(this.productId),\n\t\t\t\tthis.GET_GOODS_COMMENTS(this.productId),\n\t\t\t\tthis.GET_ALL_COUPONS(),\n\t\t\t\tthis.GET_GOODS_STORES({product_id: this.productId }),\n\t\t\t\tthis.GET_CART_LIST(),\n\t\t\t])\n\t\t\t\n\t\t\t// 有秒杀\n\t\t\tif (this.seckillData) {\n\t\t\t\tconst currT = new Date()\n\t\t\t\tthis.seckillStart = this.seckillData.start_time || null\n\t\t\t\tthis.seckillEnd = this.seckillData.end_time || null\n\t\t\t\t// 设置倒计时\n\t\t\t\tthis.countdownTime(this.seckillStart, this.seckillEnd)\n\t\t\t\t\n\t\t\t}\n\t\t}catch(e){\n\t\t\tuni.showToast({\n\t\t\t\ticon: 'none',\n\t\t\t\ttitle: e.message,\n\t\t\t\tduration: 2000\n\t\t\t})\n\t\t}\n\t\t\n\t\t// 处理商品sku数据\n\t\tthis.sizeDataHandler()\n\t\tthis.shopItemInfoHandler()\n\t\tthis.checkItem()\r\n\t\tuni.hideLoading();\r\n\t},\r\n\tonShareAppMessage() {\r\n\t\t// 分享页面时，加入门店或者\r\n\t\tlet path = `/pages/goods/goods?id=${this.productId}`;\r\n\t\tif (this.storeId) {\r\n\t\t\tpath = path + `&storeId=${this.storeId}`;\r\n\t\t}\r\n\t\tpath = path + `&shareId=${this.currUser.id}`;\r\n\t\tconsole.log(path);\r\n\t\treturn {\r\n\t\t\ttitle: this.goodsDetail.name,\r\n\t\t\tpath: path\r\n\t\t}\r\n\t},\r\n\tonPageScroll(e) {\r\n\t\tthis.scrollTop = e.scrollTop;\r\n\t}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\npage {\r\n\tposition: relative;\r\n}\n\n.seckill {\n\tdisplay: flex;\n\twidth: 100%;;\n\theight: 140upx;\n\t&-left {\n\t\tpadding: 0 24upx;\n\t\tposition: relative;\n\t\twidth: 70%;\n\t\theight: 100%;\n\t\tbackground-color: $primary-color;\n\t\t.title {\n\t\t\tmargin-top: 16upx;\n\t\t\tmargin-left: 32upx;\n\t\t\tfont-size: 28upx;\n\t\t\tcolor: rgba(249,249,249,1);\n\t\t\t.origin {\n\t\t\t\tmargin-left: 18upx;\n\t\t\t\tcolor: #999;\n\t\t\t\ttext-decoration: line-through;\n\t\t\t}\n\t\t}\n\t\t.content {\n\t\t\tmargin-top: 5upx;\n\t\t\theight: 68upx;\n\t\t\t.price {\n\t\t\t\tcolor: #F5DBC3;\n\t\t\t\tfont-size: 28upx;\n\t\t\t\t.now_price {\n\t\t\t\t\tfont-size: 48upx;\n\t\t\t\t\tline-height: 68upx;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.limit {\n\t\t\t\tmargin-left: 24upx;\n\t\t\t\tmargin-top: 20upx;\n\t\t\t\tpadding: 0 12upx;\n\t\t\t\tline-height: 34upx;\n\t\t\t\theight: 34upx;\n\t\t\t\tborder-radius: 18upx;\n\t\t\t\tfont-size: 24upx;\n\t\t\t\tbackground: #CA935E;\n\t\t\t\tcolor: #FFF;\n\t\t\t}\n\t\t}\n\t}\n\t&-right {\n\t\tpadding: 0 0 0 35upx;\n\t\tposition: relative;\n\t\twidth: 30%;\n\t\theight: 100%;\n\t\ttext-align: center;\n\t\tbackground:linear-gradient(90deg, #eac09a 0%,rgba(202,147,94,1) 100%);\n\t\t&::after {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tborder-top: 70upx solid transparent;\n\t\t\tborder-left: 35upx solid $primary-color;\n\t\t\tborder-bottom: 70upx solid transparent;\n\t\t}\n\t\t.soon {\n\t\t\tmargin-top: 20upx;\n\t\t\tfont-weight: 500;\n\t\t\tfont-size: 38upx;\n\t\t\tcolor: #FFF;\n\t\t}\n\t\t.time {\n\t\t\tmargin-top: 14upx;\n\t\t\tfont-size: 24upx;\n\t\t\tcolor: #FFF;\n\t\t}\n\t\t\n\t}\n}\n\n.get-coupons {\n\tmargin: 4upx 40upx 4upx 0;\n\tposition: relative;\n\tdisplay: inline-block;\n\tpadding: 0 16upx;\n\tborder-radius: 6upx;\n\tline-height: 40upx;\n\tfont-size: 22upx;\n\toverflow: hidden;\n\t\n\t&::after,\n\t&::before {\n\t\tcontent: '';\n\t\twidth: 16upx;\n\t\theight: 16upx;\n\t\tborder-radius: 100%;\n\t\tbackground-color: #FFF;\n\t\tposition: absolute;\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t}\n\t\n\t&::after {\n\t\tright: -8upx;\n\t}\n\t&::before {\n\t\tleft: -8upx;\n\t}\n}\r\n\r\n.share-btn {\r\n\tbackground-color: transparent;\r\n\r\n\t&::after {\r\n\t\tdisplay: none;\r\n\t}\r\n}\r\n\r\n.swiper-container {\r\n\tposition: relative;\r\n\tz-index: 1;\r\n\r\n\t.dots {\r\n\t\tposition: absolute;\r\n\t\tz-index: 2;\r\n\t\tbottom: 40upx;\r\n\t\tright: 32upx;\r\n\t\t@include sc(27upx, $mc-greylight);\r\n\t\tfont-weight: 400;\r\n\t\tletter-spacing: 2upx;\r\n\r\n\t\t.current {\r\n\t\t\t@include sc(33upx, $mc-grey);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nswiper,\r\n.swiper-item,\r\n.swiper-img {\r\n\t@include wh(750upx, 750upx);\r\n}\r\n\n.footer-opt {\n\tposition: fixed;\r\n\tbottom: 12px;\r\n\tleft: 0;\n\tright: 0;\r\n\tz-index: 10;\n\t&.opt-bar {\n\t\tbottom: 0;\n\t}\n}\n.opt-bar {\n\tbackground: #FFF;\n\tborder-top: 1upx solid #F2F2F2;\n\t&__main {\n\t\t.cart {\n\t\t\t&_box {\n\t\t\t\tposition: relative;\n\t\t\t\twidth: 176upx;\n\t\t\t\tpadding: 16upx 14upx;\n\t\t\t\tmargin-right: 48upx;\n\t\t\t\t&::after {\n\t\t\t\t\tcontent: '';\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 38upx;\n\t\t\t\t\tbottom: 38upx;\n\t\t\t\t\tright: 0;\n\t\t\t\t\twidth: 1px;\n\t\t\t\t\theight: calc(100% - 38upx - 38upx);\n\t\t\t\t\tbackground: #CCCCCC;\n\t\t\t\t}\n\t\t\t}\n\t\t\t&_main {\n\t\t\t\tposition: relative;\n\t\t\t\ttext-align: center;\n\t\t\t\t.font {\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tfont-size: 20upx;\n\t\t\t\t\tcolor: #666666;\n\t\t\t\t}\n\t\t\t\t.badge {\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: -8upx;\n\t\t\t\t\tright: -8upx;\n\t\t\t\t\tbackground: $primary-color;\n\t\t\t\t\tpadding: 0 8upx;\n\t\t\t\t\theight: 32upx;\n\t\t\t\t\tborder-radius: 16upx;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\twhite-space: nowrap;\n\t\t\t\t\tfont-size: 24upx;\n\t\t\t\t\tcolor: #F5DBC3;\n\t\t\t\t\tline-height: 32upx;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t&__seckill {\n\t\t.opt-bar__btn {\n\t\t\tmargin: 0 48upx;\n\t\t\t.btn {\n\t\t\t\twidth: 315upx;\n\t\t\t}\n\t\t}\n\t}\n\t&__btn {\n\t\tmargin-right: 24upx;\n\t\tflex: 1;\n\t\t.btn {\n\t\t\tmargin: 16upx 0;\n\t\t\twidth: 240upx;\n\t\t\theight: 88upx;\n\t\t\tline-height: 88upx;\n\t\t\tfont-size: 30upx;\n\t\t\tborder-radius: 44upx;\n\t\t\t&.tobuy {\n\t\t\t\tbackground-color: #CA935E;\n\t\t\t\tcolor: #fff;\n\t\t\t}\n\t\t\t&.disabled {\n\t\t\t\tbackground: rgba(29,29,29,.5);\n\t\t\t\tcolor: rgba(245,219,195,1);\n\t\t\t}\n\t\t}\n\t}\n}\n\t\t\r\n.buy-btn {\n\tmargin: 0 48upx;\r\n\theight: 98upx;\r\n\tline-height: 98upx;\n\ttext-align: center;\n\tcolor: $secondary-color;\n\tbackground-color: $primary-color;\r\n\tfont-weight: 400;\n\tborder-radius: 54upx;\n\t&[disabled] {\n\t\tbackground: rgba(29,29,29,.5)!important;\n\t\tcolor: rgba(245,219,195,1)!important;\n\t}\r\n}\r\n\r\n.goods-bar {\r\n\tbackground: $mc-white;\r\n\tpadding: 32upx;\r\n\t@include sc(26upx, #999999);\r\n\tfont-weight: 400;\r\n\r\n\t.header {\r\n\t\tpadding-bottom: 24upx;\r\n\t}\r\n\r\n\t.price {\r\n\t\t.now {\r\n\t\t\tfont-size: 32upx;\r\n\t\t\tcolor: $primary-color;\r\n\r\n\t\t\t.now_price {\r\n\t\t\t\tfont-size: 64upx;\n\t\t\t\tfont-weight: 500;\r\n\t\t\t}\r\n\r\n\t\t\tmargin-right: 25upx;\r\n\t\t}\r\n\r\n\t\t.old {\r\n\t\t\ttext {\r\n\t\t\t\ttext-decoration: line-through;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.name {\r\n\t\t@include sc(33upx, #020202);\r\n\t\tfont-weight: 500;\r\n\t\tline-height: 46upx;\r\n\t\tmargin: 30upx 0 28upx 0;\r\n\t}\r\n}\r\n\r\n.panel {\r\n\tmargin-bottom: 24upx;\r\n\twidth: 100%;\r\n\r\n\t.header {\r\n\t\theight: 112upx;\r\n\t\tline-height: 112upx;\r\n\t\tbackground: $mc-white;\r\n\r\n\t\ttext {\r\n\t\t\t@include sc(34upx, #020202);\r\n\t\t\tfont-weight: 500;\r\n\t\t\tvertical-align: middle;\r\n\r\n\t\t\t&::before,\r\n\t\t\t&::after {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tdisplay: inline-block;\r\n\t\t\t\t@include wh(32upx, 2upx);\r\n\t\t\t\tborder-bottom: 2upx solid #999999;\r\n\t\t\t\tmargin: 0 12upx;\r\n\t\t\t\tvertical-align: middle;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\n\n.details {\n\tpadding-bottom: 132upx;\n}\r\n\r\n\r\n/* 弹窗二维码 */\r\n.uni-image {\r\n\tposition: relative;\r\n\twidth: 400upx;\r\n\theight: 400upx;\r\n}\r\n\r\n.uni-image .image {\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n.uni-image-close {\r\n\tmargin-top: 20px;\r\n\ttext-align: center;\r\n}\r\n.store-item {\r\n\tbox-shadow: none !important;\r\n\tmargin-top: 0 !important;\r\n\t// border-top: 1upx solid rgba($color: #000000, $alpha: 0.1);\r\n}\r\n.plus{\r\n\twidth: 76upx;\r\n\theight: 30upx;\r\n\tmargin: 0 12upx;\r\n}\n\n// 操作\n.option {\n\t&-item {\n\t\tposition: relative;\n\t\tpadding: 12upx 24upx;\n\t\tmin-height: 112upx;\n\t\tfont-size: 26upx;\n\t\t&::after {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\tbottom: 0;\n\t\t\tright: 0;\n\t\t\tleft: calc(24upx + 76upx);\n\t\t\theight: 1px;\n\t\t\tbackground-color: #F2F2F2;\n\t\t}\n\t\t&:last-child::after {\n\t\t\tdisplay: none;\n\t\t}\n\t\t.label {\n\t\t\twidth: 76upx;\n\t\t\tline-height: 64upx;\n\t\t\tcolor: #999;\n\t\t}\n\t\t.content {\n\t\t\tcolor: #999;\n\t\t}\n\t\t.other {\n\t\t\tcolor: #666;\n\t\t\t&-icon {\n\t\t\t\twidth: 48upx;\n\t\t\t\theight: 64upx;\n\t\t\t\tline-height: 64upx;\n\t\t\t\t.iconfont {\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\n\n// 店铺\n.store {\n\tpadding: 0 24upx 12upx;\n\tbackground-color: $bg-color;\n\t.section_title {\n\t\tpadding: 12upx 0 36upx;\n\t\t.more {\n\t\t\tmargin-top: 0;\n\t\t\t.more-text {\n\t\t\t\tfont-size: 28upx;\n\t\t\t\tcolor: #666;\n\t\t\t}\n\t\t}\n\t}\n\t&-list {\n\t\t&__item {\n\t\t\tborder-radius: 24upx;\n\t\t\tborder-bottom: 32upx solid $bg-color;\n\t\t\t\n\t\t\t&:last-child {\n\t\t\t\tborder-bottom-width: 0;\n\t\t\t}\n\t\t}\n\t}\n}\n\n// 大家问\n.allask {\n\tpadding: 0 0 36upx;\n\tcolor: #666;\n\tfont-size: 26upx;\n\tline-height: 40upx;\n\t\n\t&-wrap {\n\t\tmargin: 0 24upx;\n\t}\n\t\n\t&-item {\n\t\tpadding: 6upx 0;\n\t\tline-height: 42upx;\n\t}\n\t\n\t&_title {\n\t\tmax-width: 70%;\n\t\t\n\t\t&-text {\n\t\t\tflex: 1;\n\t\t\t@include ellipsis;\n\t\t}\n\t\t\n\t\t&-icon {\n\t\t\tposition: relative;\n\t\t\tmargin-right: 6upx;\n\t\t\t\n\t\t\t&::after {\n\t\t\t\tcontent: '问';\n\t\t\t\t@include absolute-t-l(0,0);\n\t\t\t\t@include wh(100%, 100%);\n\t\t\t\tline-height: 40upx;\n\t\t\t\tfont-size: 22upx;\n\t\t\t\ttext-align: center;\n\t\t\t\tcolor: $secondary-color;\n\t\t\t}\n\t\t\t\n\t\t\t.iconfont {\n\t\t\t\tcolor: $primary-color;\n\t\t\t\tfont-size: 36upx;\n\t\t\t}\n\t\t}\n\t}\n\t&_num {\n\t\tmax-width: 25%;\n\t\t@include ellipsis;\n\t}\n\t.morebtn {\n\t\tmargin-bottom: 0;\n\t}\n}\n\n// 评论\r\n.comment {\n\tpadding: 0 0 36upx;\n\t\n\t&-collect {\n\t\tpadding: 36upx 0 12upx;\n\t\tmargin: 0 24upx;\n\t\tborder-top: 1px solid #F2F2F2;\n\t\t&__item {\n\t\t\tdisplay: inline-block;\n\t\t\tmargin-right: 28upx;\n\t\t\tbackground-color: $bg-color;\n\t\t\tborder-radius: 28upx;\n\t\t\tline-height: 52upx;\n\t\t\tpadding: 0 24upx;\n\t\t\tcolor: $primary-color;\n\t\t}\n\t}\n\t\n\t&-box {\n\t\tpadding: 24upx;\n\t\tborder-bottom: 24upx solid $bg-color;\n\t\t\n\t\t&:last-child {\n\t\t\tborder-bottom-width: 0;\n\t\t}\n\t\t\n\t\t&__nickname {\n\t\t\tmargin-left: 12upx;\n\t\t\tfont-size: 26upx;\n\t\t}\n\t\t&__content {\n\t\t\tmargin-top: 36upx;\n\t\t\tcolor: #666666;\n\t\t\tfont-size: 26upx;\n\t\t}\n\t\t&__img {\n\t\t\tmargin-top: 24upx;\n\t\t\twhite-space: nowrap;\n\t\t\t&-item {\n\t\t\t\tdisplay: inline-block;\n\t\t\t\twidth: 218upx;\n\t\t\t\theight: 218upx;\n\t\t\t}\n\t\t}\n\t\t&__time {\n\t\t\tmargin-top: 24upx;\n\t\t\tcolor: #999999;\n\t\t\tfont-size: 22upx;\n\t\t}\n\t}\r\n}\n\n.section {\n\tborder-bottom: 24upx solid $bg-color;\n\t&_title {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 36upx 24upx;\n\t\t.title {\n\t\t\tfont-size: 500;\n\t\t\tcolor: $primary-color;\n\t\t\tfont-size: 32upx;\n\t\t}\n\t\t.subtitle {\n\t\t\tcolor: $primary-color;\n\t\t\tfont-size: 28upx;\n\t\t\tfont-weight: 400;\n\t\t}\n\t}\t\n}\n\n// 优惠券\n.coupons {\n\t&-popup {\n\t\t&__bd {\n\t\t\tpadding: 0 32upx;\n\t\t\tmin-height: 700upx;\n\t\t\tmax-height: 800upx;\n\t\t\t&-main {\n\t\t\t\toverflow-y: auto;\n\t\t\t}\n\t\t}\n\t\t&__item {\n\t\t\tmargin-bottom: 40upx;\n\t\t\theight: 194upx;\n\t\t\tbackground-color: #FFF;\n\t\t\toverflow: hidden;\n\t\t\t// filter: grayscale(100%);\n\t\t\t&:first-child {\n\t\t\t\tmargin-top: 40upx;\n\t\t\t}\n\t\t\t&:last-child {\n\t\t\t\tmargin-bottom: 40upx;\n\t\t\t}\n\t\t\t\n\t\t\t&-type {\n\t\t\t\tposition: relative;\n\t\t\t\twidth: 188upx;\n\t\t\t\tbackground-color: $primary-color;\n\t\t\t\ttext-align: center;\n\t\t\t\t&::before {\n\t\t\t\t\tcontent: '';\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: -10upx;\n\t\t\t\t\tright: -10upx;\n\t\t\t\t\tborder-left: 20upx solid #FFF;\n\t\t\t\t\tborder-bottom: 20upx solid #FFF;\n\t\t\t\t\tborder-radius: 100%;\n\t\t\t\t}\n\t\t\t\t&::after {\n\t\t\t\t\tcontent: '';\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tbottom: -10upx;\n\t\t\t\t\tright: -10upx;\n\t\t\t\t\tborder-left: 20upx solid #FFF;\n\t\t\t\t\tborder-top: 20upx solid #FFF;\n\t\t\t\t\tborder-radius: 100%;\n\t\t\t\t}\n\t\t\t\t.price {\n\t\t\t\t\tmargin-top: 32upx;\n\t\t\t\t\tcolor: #FFF;\n\t\t\t\t\tfont-size: 28upx;\n\t\t\t\t\t.text {\n\t\t\t\t\t\tfont-size: 52upx;\n\t\t\t\t\t\tline-height: 70upx;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t.condition {\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\ttext-align: center;\n\t\t\t\t\tmargin: 12upx 12upx 0;\n\t\t\t\t\tpadding: 0 12upx;\n\t\t\t\t\tline-height: 40upx;\n\t\t\t\t\tfont-size: 24upx;\n\t\t\t\t\tcolor: $primary-color;\n\t\t\t\t\tbackground:linear-gradient(90deg,rgba(245,219,195,1) 0%,rgba(202,147,94,1) 100%);\n\t\t\t\t\t@include ellipsis;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t&-info {\n\t\t\t\tflex: 1;\n\t\t\t\tpadding: 28upx;\n\t\t\t\t.name {\n\t\t\t\t\theight: 90upx;\n\t\t\t\t\tline-height: 45upx;\n\t\t\t\t\t@include ellipsisMultiline(2);\n\t\t\t\t}\n\t\t\t\t.date {\n\t\t\t\t\tcolor: #999;\n\t\t\t\t\tfont-size: 24upx;\n\t\t\t\t}\n\t\t\t\t.btn {\n\t\t\t\t\tpadding: 0 12upx;\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\tline-height: 48upx;\n\t\t\t\t\tborder-radius: 24upx;\n\t\t\t\t\tfont-size: 24upx;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// 已领取\n\t\t\t&--received {\n\t\t\t\t.coupons-popup__item-type {\n\t\t\t\t\tbackground: linear-gradient(328deg,rgba(177,187,196,1) 0%,rgba(209,216,222,1) 100%);\n\t\t\t\t\t.condition {\n\t\t\t\t\t\tbackground: #FFF;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t.coupons-popup__item-info {\n\t\t\t\t\t.btn {\n\t\t\t\t\t\tcolor: #FFF;\n\t\t\t\t\t\tbackground: linear-gradient(328deg,rgba(177,187,196,1) 0%,rgba(209,216,222,1) 100%);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\t\t// 已使用\n\t\t\t&--disabled {\n\t\t\t\t\n\t\t\t}\t\n\t\t}\n\t}\n}\n\t\n.popup {\n\t&-main {\n\t\tbackground-color: $bg-color;\n\t}\n\t&-hd {\n\t\tpadding: 28upx 32upx;\n\t\tbackground-color: #FFF;\n\t}\n}\t\n\n.popup-size {\n\tposition: relative;\n\theight: 75%;\n\tbackground-color: #FFF;\n\t&__main {\n\t\tposition: relative;\n\t\theight: 100%;\n\t\tpadding-bottom: 156upx;\n\t}\n\t&__item {\n\t\tposition: relative;\n\t\tmargin-left: 32upx;\n\t\tpadding: 40upx 32upx 48upx;\n\t\t&::after {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\theight: 1px;\n\t\t\tbackground-color: #F2F2F2;\n\t\t}\n\t\t&.popup-size__virtual {\n\t\t\t&::after {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t}\n\t\t.label {\n\t\t\tposition: absolute;\n\t\t\ttop: 40upx;\n\t\t\tleft: 0;\n\t\t\tfont-weight: bold;\n\t\t\tcolor: $primary-color;\n\t\t\tfont-size: 28upx;\n\t\t\tline-height: 40upx;\n\t\t}\n\t}\n\t\n\t&__goods {\n\t\tpadding-left: 278upx;\n\t\t.image {\n\t\t\tposition: absolute;\n\t\t\ttop: -32upx;\n\t\t\tleft: 0;\n\t\t\twidth: 246upx;\n\t\t\theight: 246upx;\n\t\t\t\n\t\t\t&-main {\n\t\t\t\tdisplay: block;\n\t\t\t\tmax-width: 100%;\n\t\t\t\tmax-height: 100%;\n\t\t\t}\n\t\t}\n\t\t\n\t\t&-info {\n\t\t\t.price {\n\t\t\t\tfont-size: 20upx;\n\t\t\t\t.text {\n\t\t\t\t\tpadding-left: 6upx;\n\t\t\t\t\tfont-size: 34upx;\n\t\t\t\t\tline-height: 48upx;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.choose {\n\t\t\t\tmargin-top: 10upx;\n\t\t\t\t.text {\n\t\t\t\t\tcolor: #999;\n\t\t\t\t}\n\t\t\t\t.name {\n\t\t\t\t\tmargin-top: 8upx;\n\t\t\t\t\theight: 76upx;\n\t\t\t\t\tline-height: 38upx;\n\t\t\t\t\t@include ellipsisMultiline(2);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\t&__size {\n\t\tposition: relative;\n\t\tpadding-left: 80upx;\n\t\tfont-size: 0;\n\t\t.label {\n\t\t\ttop: 52upx;\n\t\t\tline-height: 52upx;\n\t\t}\n\t\t.size-item {\n\t\t\tdisplay: inline-block;\n\t\t\tpadding: 0 28upx;\n\t\t\tmargin: 12upx;\n\t\t\tline-height: 52upx;\n\t\t\tbackground-color: $bg-color;\n\t\t\tfont-size: 26upx;\n\t\t\tcolor: $primary-color;\n\t\t\tborder-radius: 26upx;\n\t\t\t&.active {\n\t\t\t\tbackground-color: $primary-color;\n\t\t\t\tcolor: #F5DBC3;\n\t\t\t}\n\t\t\t&.disabled {\n\t\t\t\tcolor: #999;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t&__num {\n\t\tposition: relative;\n\t\tpadding-left: 80upx;\n\t}\n\t\n\t&__cancel {\n\t\tposition: absolute;\n\t\ttop: 28upx;\n\t\tright: 32upx;\n\t\tz-index: 9;\n\t}\n\t\n\t&__submit {\n\t\tposition: absolute;\n\t\tbottom: 24upx;\n\t\tleft: 0;\n\t\tright: 0;\n\t}\n\t\n\t&__physical {\n\t\t\n\t}\n\t\n\t&__virtual {\n\t\t.popup-size__item {\n\t\t\tmargin-left: 0;\n\t\t\tpadding: 40upx 32upx 48upx;\t\t\t\n\t\t\t&::after {\n\t\t\t\tdisplay: none;\n\t\t\t}\n\t\t\t.label {\n\t\t\t\tposition: relative;\n\t\t\t\ttop: 0;\n\t\t\t}\n\t\t\t&.state {\n\t\t\t\tcolor: #666;\n\t\t\t\tfont-size: 26upx;\n\t\t\t}\n\t\t}\n\t}\n\t&__phybtn {\n\t\tpadding: 0 32upx;\n\t\tmargin-right: 0;\n\t\t.btn {\n\t\t\twidth: 48%;\n\t\t}\n\t}\n}\n\n.morebtn {\n\tmargin: 20upx 0;\n\t&_more {\n\t\tmargin: 0 auto;\n\t\twidth: 220upx;\n\t\theight: 64upx;\n\t\tline-height: 64upx;\n\t\tborder: 1px solid #CCCCCC;\n\t\tborder-radius: 35upx;\n\t\tcolor: #666;\n\t\ttext-align: center;\n\t}\n}\r\n</style>\n","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1659844467672\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}