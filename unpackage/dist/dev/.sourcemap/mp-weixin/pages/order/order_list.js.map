{"version":3,"sources":["uni-app:///main.js","webpack:////Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/pages/order/order_list.vue?fc98","webpack:////Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/pages/order/order_list.vue?d02f","webpack:////Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/pages/order/order_list.vue?b8c5","webpack:////Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/pages/order/order_list.vue?8cea","uni-app:///pages/order/order_list.vue","webpack:////Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/pages/order/order_list.vue?18e6","webpack:////Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/pages/order/order_list.vue?c60a"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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","file":"pages/order/order_list.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/order/order_list.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./order_list.vue?vue&type=template&id=56ec366e&\"\nvar renderjs\nimport script from \"./order_list.vue?vue&type=script&lang=js&\"\nexport * from \"./order_list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./order_list.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/order/order_list.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order_list.vue?vue&type=template&id=56ec366e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.orderList && _vm.orderList.length\n      ? _vm.__map(_vm.orderList, function(item, __i0__) {\n          var $orig = _vm.__get_orig(item)\n\n          var m0 = _vm.getOrderStatus(\n            item.status,\n            _vm.currOrderType,\n            item.return_status\n          )\n          var m1 =\n            parseInt(item.status_return) > -1 &&\n            parseInt(item.status_return) < 3\n          var m2 = m1 ? parseInt(item.status_return) : null\n          return {\n            $orig: $orig,\n            m0: m0,\n            m1: m1,\n            m2: m2\n          }\n        })\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order_list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order_list.vue?vue&type=script&lang=js&\"","<template>\n\t<view>\n\t\t<cu-custom isBack bgColor=\"bg-white-heavy\">\r\n\t\t\t<block slot=\"content\">我的订单</block>\r\n\t\t</cu-custom>\n\t\t\t\t\n\t\t<view class=\"order-list\">\n\t\t\t<view class=\"order-list__sticky\" :style=\"{'top': `${customBar}px`}\">\n\t\t\t\t<!-- 类型切换 -->\n\t\t\t\t<view class=\"order-list__tab\">\n\t\t\t\t\t<view class=\"order-list__tab-main\">\n\t\t\t\t\t\t<view v-for=\"(type, tIndex) in orderType\" :key=\"type.type\" :class=\"{'btn': true, 'active': tIndex == orderTypeIndex}\" @tap=\"changeTab(tIndex)\">\n\t\t\t\t\t\t\t{{ type.name }}\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<!-- 订单类型 -->\n\t\t\t\t<view class=\"order-list__bar\">\n\t\t\t\t\t<scroll-view scroll-x  :scroll-into-view=\"scrollinto\" :scroll-with-animation=\"true\">\n\t\t\t\t\t\t<view class=\"order-list__bar-nav\" v-for=\"(tab, index) in tabList\" :key=\"tab.type\" :id=\"'tab'+ index\" @click=\"changeType(index)\">\n\t\t\t\t\t\t\t<view :class=\"tabIndex == index ? 'order-list__bar-nav--active' : ''\"> {{tab.name}} </view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</scroll-view>\n\t\t\t\t</view>\n\t\t\t\n\t\t\t</view>\n\t\t\t\n\t\t\t<!-- 订单列表 -->\n\t\t\t<view class=\"order-list__main\" :style=\"{'margin-top': `${bodyMain}px`}\">\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t<view class=\"order-list\" v-if=\"orderList && orderList.length\">\r\n\t\t\t\t\t<order-item\r\n\t\t\t\t\t\tv-for=\"item in orderList\"\r\n\t\t\t\t\t\t:key=\"item.id\"\r\n\t\t\t\t\t\t:url=\"'/pages/order/order?id=' + item.id + '&type=' + currOrderType \"\r\n\t\t\t\t\t\t:storeImg=\"image_path + '/store-s.png'\"\r\n\t\t\t\t\t\t:storeName=\"item.store_name || '骄杨佳美店铺'\"\n\t\t\t\t\t\t:orderItems=\"item.order_items || item.items\"\r\n\t\t\t\t\t\t:status=\"getOrderStatus(item.status, currOrderType, item.return_status)\"\r\n\t\t\t\t\t\t:orderType=\"currOrderType\"\r\n\t\t\t\t\t\t:orderSub=\"(currOrderType==0)?item.items.availableTimes:''\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<block slot=\"btns\">\r\n\t\t\t\t\t\t\t<!-- 退款部分 -->\r\n\t\t\t\t\t\t\t<!-- <block v-if=\"item.return_status === '1'\">\r\n\t\t\t\t\t\t\t\t<button @click.stop=\"clickBtn(item.orderSn, item.id, 'refund')\" class=\"cu-btn round line-mc\">申请退款</button>\r\n\t\t\t\t\t\t\t</block> -->\r\n\t\t\t\t\t\t\t<block v-if=\"parseInt(item.status_return) > -1 && parseInt(item.status_return) < 3\">\r\n\t\t\t\t\t\t\t\t<button @click.stop=\"clickBtn(item.order_sn, item.id, 'refund-detail')\" class=\"cu-btn round line-mc\">\r\n\t\t\t\t\t\t\t\t\t{{(parseInt(item.status_return) == 1)?\"退款中\":\"退款详情\"}}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t<block v-else>\r\n\t\t\t\t\t\t\t<!-- 订单部分 -->\r\n\t\t\t\t\t\t\t\t<button v-if=\"item.status == 0\" @click.stop=\"clickBtn(item.order_sn, item.id, 'pay', item.pay_amount)\" class=\"cu-btn round order-pay\">去付款</button>\r\n\t\t\t\t\t\t\t\t<block v-else-if=\"item.status == 1\">\r\n\t\t\t\t\t\t\t\t\t<button class=\"cu-btn round line-mc margin-left-lg\" v-if=\"orderTypeIndex == 0\" @click.stop=\"clickBtn(item.order_sn, item.id, 'service')\">服务验证</button>\r\n\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t<block v-else-if=\"item.status == 2\">\r\n\t\t\t\t\t\t\t\t\t<button class=\"cu-btn round line-mc-primary\" v-if=\"orderTypeIndex == 1\" @click.stop=\"clickBtn(item.order_sn, item.id, 'confirm')\">确认收货</button>\r\n\t\t\t\t\t\t\t\t\t<button @click.stop=\"clickBtn(item.order_sn, item.id, 'confirm')\" class=\"cu-btn round line-mc\" v-else>服务验证</button>\r\n\t\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t\t\t<button class=\"cu-btn round line-mc-primary\" v-else-if=\"item.status == 3\" @click.stop=\"clickBtn(item.order_sn, item.id, 'evaluate')\">去评价</button>\r\n\t\t\t\t\t\t\t</block>\r\n\t\t\t\t\t\t</block>\r\n\t\t\t\t\t</order-item>\r\n\t\t\t\t\t<view class=\"flex justify-center align-center\" style=\"width: 100%;\">\r\n\t\t\t\t\t\t<list-load-more :status=\"loadMore\"></list-load-more>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<blank-item :type=\"tabIndex == 4 ? 'evaluate-order' : 'order'\" v-else />\n\t\t\t</view>\n\t\t\t\n\t\t</view>\n\t</view>\n</template>\n\n<script>\r\nimport { mapActions, mapState } from 'vuex'\nimport BlankItem from '../../components/blank.vue'\nimport OrderItem from '@/components/order/order-item-origin.vue'\n\n\nexport default {\n\tcomponents: {\n\t\tOrderItem,\n\t\tBlankItem\n\t},\n\tdata() {\n\t\treturn {\n\t\t\timage_path: this.$cfg.image_path,\n\t\t\tloadMore: \"more\",\n\t\t\tscrollinto: 0,\n\t\t\torderTypeIndex: 1,\n\t\t\torderType: [\n\t\t\t\t{name: '服务订单', type: 'xuni'},\n\t\t\t\t{name: '实物订单', type: 'shiwu'},\n\t\t\t],\n\t\t\ttabIndex: 0,\n\t\n\t\t\tpage: 1,\n\t\t\ttotal: 0,\n\t\t}\n\t},\n\tcomputed: {\n\t\t...mapState({\n\t\t\torderList: state => state.order.orderList,\n\t\t\torderTotal: state => state.order.orderTotal,\n\t\t\tcustomBar: state => state.customBar,\n\t\t\twxCode: state => state.user.wxCode,\n\t\t}),\n\t\tbodyMain() {\n\t\t\treturn this.customBar + uni.upx2px(172 / 2)\n\t\t},\n\t\tcurrOrderType() {\n\t\t\treturn this.orderTypeIndex == 0 ? parseInt(2) : parseInt(1)\n \t\t},\n\t\ttabList() {\n\t\t\t// 订单状态：0->待付款； 1->已付款 / 待发货； 2->已发货； 3->已收货 / 待评价； 4->已完成（下单15天自动完成）； 5->已关闭； 6->无效订单（退款订单）\n\t\t\tif (this.orderTypeIndex == 0) {\n\t\t\t\t// 服务订单\n\t\t\t\treturn [\n\t\t\t\t\t{ name: '全部订单', id: 7 },\n\t\t\t\t\t{ name: '待付款', id: 0 }, \n\t\t\t\t\t{ name: '待服务', id: 1 }, \n\t\t\t\t\t{ name: '服务中', id: 2 }, \n\t\t\t\t\t{ name: '待评价', id: 3 }, \n\t\t\t\t\t{ name: '已完成', id: 4 }, \n\t\t\t\t\t{ name: '已关闭', id: 5 }, \n\t\t\t\t\t{ name: '售后/退款', id: 6 },\n\t\t\t\t]\n\t\t\t}\n\t\t\t\n\t\t\treturn [\n\t\t\t\t{ name: '全部订单', id: 7 }, \n\t\t\t\t{ name: '待付款', id: 0 }, \n\t\t\t\t{ name: '待发货', id: 1 }, \n\t\t\t\t{ name: '收货中', id: 2 }, \n\t\t\t\t{ name: '待评价', id: 3 }, \n\t\t\t\t{ name: '已完成', id: 4 }, \n\t\t\t\t{ name: '已关闭', id: 5 }, \n\t\t\t\t{ name: '售后/退款', id: 6 },\n\t\t\t]\n\t\t},\n\t\tqueryData() {\n\t\t\tlet params = {\n\t\t\t\tpage: this.page,\n\t\t\t\torder_type: this.currOrderType,\n\t\t\t}\n\t\t\t\n\t\t\tconst selectTab = this.tabList[this.tabIndex]\n\t\t\tif (selectTab.id < 7) {\n\t\t\t\tparams.status = selectTab.id\n\t\t\t}\n\t\t\treturn params\n\t\t},\n\t},\n\tasync onLoad(option) {\n\t\tuni.showLoading({\n\t\t\ttitle: '加载中...',\n\t\t\tmask: true\n\t\t})\n\t\t\n\t\tconst { orderindex, tabindex } = option\n\t\t\n\t\tif (orderindex) {\n\t\t\t// 服务 or 实物订单\n\t\t\tthis.orderTypeIndex = orderindex\n\t\t}\n\t\t\n\t\tif (tabindex) {\n\t\t\t// 订单类型\n\t\t\tthis.tabIndex = tabindex\n\t\t\tthis.scrollinto = 'tab' + tabindex\n\t\t}\n\t\t\n\t\ttry {\n\t\t\tawait this.fetchData()\n\t\t}catch(e){\n\t\t\tuni.showToast({\n\t\t\t\ticon: 'none',\n\t\t\t\ttitle: e.message,\n\t\t\t\tduration: 2000\n\t\t\t})\n\t\t}\n\t\tuni.hideLoading()\n\t},\n\tmethods: {\n\t\t...mapActions({\n\t\t\tGET_ORDER_LIST: 'order/GET_ORDER_LIST',\n\t\t\t\n\t\t\tORDER_PAY: 'order/ORDER_PAY',\n\t\t\tWECHAT_PAY: 'order/WECHAT_PAY',\t\t\n\t\t\tORDER_RECEIPT: 'order/ORDER_RECEIPT',\t\n\t\t}),\n\t\t// 改变顶部 tab\n\t\tchangeTab(index) {\n\t\t\tif (index !== this.orderTypeIndex) {\n\t\t\t\tthis.orderTypeIndex = index\n\t\t\t\tthis.page = 1\n\t\t\t\tthis.fetchData()\n\t\t\t}\n\t\t},\n\t\t// 改变订单类型\n\t\tchangeType(index) {\n\t\t\tif (index !== this.tabIndex) {\n\t\t\t\tthis.scrollinto = 'tab'+index\n\t\t\t\tthis.tabIndex = index\n\t\t\t\tthis.page = 1\n\t\t\t\tthis.fetchData()\n\t\t\t}\n\t\t},\n\t\tasync fetchData() {\n\t\t\ttry{\n\t\t\t\tawait this.GET_ORDER_LIST(this.queryData)\n\t\t\t}catch(e){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle: e.message,\n\t\t\t\t\tduration: 2000\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t\tasync onReachBottom() {\r\n\t\t\tif (this.orderList.length < this.orderTotal) {\r\n\t\t\t\tthis.page = this.page + 1\n\t\t\t\tthis.loadMore = 'loading'\r\n\t\t\t\tthis.fetchData()\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync onPullDownRefresh(){\r\n\t\t\t// 下拉重新加载\r\n\t\t\tuni.showLoading({\r\n\t\t\t\ttitle:'加载中'\r\n\t\t\t})\r\n\t\t\tawait this.fetchData()\r\n\t\t\tuni.stopPullDownRefresh()\r\n\t\t\tuni.hideLoading()\r\n\t\t},\t\n\n\t\tasync clickBtn(sn, id, type, payamount) {\n\t\t\tconst orderType = this.currOrderType\r\n\t\t\tif (type === 'pay') {\n\t\t\t\tthis.orderPay(id, orderType)\r\n\t\t\t\t// uni.navigateTo({\r\n\t\t\t\t// \turl: `/pages/order/order?order=${sn}&id=${id}&amount=${payamount}&type=${ this.currOrderType }`\r\n\t\t\t\t// });\r\n\t\t\t} else if (type === 'refund') {\r\n\t\t\t\tuni.navigateTo({ url: `/pages/order/refund?order=${sn}&id=${id}&type=${ orderType }` });\r\n\t\t\t} else if (type === 'refund-detail') {\r\n\t\t\t\tuni.navigateTo({ url: `/pages/order/refund_list?order=${sn}&id=${id}&type=${ orderType }` });\r\n\t\t\t} else if (type === 'evaluate') {\r\n\t\t\t\tuni.navigateTo({ url: `/pages/order/evaluate?order=${sn}&id=${id}&type=${ orderType }` });\r\n\t\t\t} else if (type === 'confirm') {\r\n\t\t\t\t// 确认收货\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\torder_type: orderType\r\n\t\t\t\t}\n\t\t\t\ttry{\n\t\t\t\t\tawait this.ORDER_RECEIPT({ id, data })\n\t\t\t\t\tawait this.fetchData()\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'收货完成',\r\n\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t})\t\t\n\t\t\t\t}catch(e){\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ticon: 'none',\n\t\t\t\t\t\ttitle: e.message,\n\t\t\t\t\t\tduration: 2000\n\t\t\t\t\t})\n\t\t\t\t}\t\t\t\t\r\n\t\t\t} else if (type === 'service') {\r\n\t\t\t\tuni.navigateTo({ url: `/pages/order/detail?order=${sn}&id=${id}&type=${ this.currOrderType }` });\r\n\t\t\t}\r\n\t\t},\r\n\t\tgetOrderStatus(status, type, returnStatus=\"0\") {\n\t\t\treturnStatus = '' + returnStatus\n\t\t\tstatus = '' + status\n\t\t\t\n\t\t\t\r\n\t\t\tswitch(returnStatus){\r\n\t\t\t\tcase '2':\r\n\t\t\t\t\treturn '退款中';\r\n\t\t\t\tcase '3':\r\n\t\t\t\t\treturn '已退款';\r\n\t\t\t}\r\n\t\t\tswitch (status) {\r\n\t\t\t\tcase '0':\r\n\t\t\t\t\treturn '待付款';\r\n\t\t\t\tcase '1':\r\n\t\t\t\t\tif (type == 2) return '待服务';\r\n\t\t\t\t\treturn '待发货';\r\n\t\t\t\tcase '2':\r\n\t\t\t\t\tif (type == 2) return '服务中';\r\n\t\t\t\t\treturn '待收货';\r\n\t\t\t\tcase '3':\r\n\t\t\t\t\treturn '待评价';\r\n\t\t\t\tcase '4':\r\n\t\t\t\t\treturn '已完成';\r\n\t\t\t\tcase '5':\r\n\t\t\t\t\treturn '已关闭';\r\n\t\t\t\tcase '6':\r\n\t\t\t\t\treturn '已失效';\r\n\t\t\t\tdefault:\r\n\t\t\t\t\treturn '已失效';\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync getList() {\r\n\t\t\tconst data = {\r\n\t\t\t\tpage: this.page,\r\n\t\t\t\tpageSize: this.pageSize\r\n\t\t\t};\r\n\t\t\tif (this.TabCur - 1 > -1) {\r\n\t\t\t\tdata['status'] = String(this.TabCur - 1);\r\n\t\t\t}\r\n\t\t\tawait this.getOrderList(data);\r\n\t\t\tif (this.orderList.length >= this.orderTotals) {\n\t\t\t\tthis.loadMore = 'noMore'\n\t\t\t}else{\n\t\t\t\tthis.loadMore = 'loading'\n\t\t\t}\r\n\t\t},\n\t\t// 订单支付\n\t\tasync orderPay(id, orderType) {\n\t\t\tconst data = {\n\t\t\t\torder_type: parseInt(orderType),\n\t\t\t\tcode: this.wxCode,\n\t\t\t}\n\t\t\t\n\t\t\ttry {\n\t\t\t\tconst resData = await this.ORDER_PAY({id, data})\n\t\t\t\tconst payData = resData.data\n\t\t\t\tif (payData) {\n\t\t\t\t\tconst payResult = await this.WECHAT_PAY(payData)\n\t\t\t\t\tif (payResult && payResult.errMsg === 'requestPayment:ok') {\n\t\t\t\t\t\t// 支付成功, orderId 先不传，多店铺下单的话会有多个订单的\n\t\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\t\turl: '/pages/cart/result'\n\t\t\t\t\t\t});\n\t\t\t\t\t}else if (payResult && payResult.errMsg === 'requestPayment:fail cancel') {\n\t\t\t\t\t\tconsole.log('取消支付，不作处理')\n\t\t\t\t\t}else {\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: `/pages/cart/result?result=${encodeURIComponent(\r\n\t\t\t\t\t\t\t\tJSON.stringify({\r\n\t\t\t\t\t\t\t\t\tmsg: '支付失败!',\r\n\t\t\t\t\t\t\t\t\ticon: 'fail'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t)}`\r\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}catch(e){\n\t\t\t\tuni.showToast({\n\t\t\t\t\ticon: 'none',\n\t\t\t\t\ttitle: e.message,\n\t\t\t\t\tduration: 2000\n\t\t\t\t})\n\t\t\t}\n\t\t},\n\t}\n}\n</script>\n\n<style lang=\"scss\">\npage {\n\tbackground-color: $bg-color;\n}\n.order-list {\n\t&__sticky {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\twidth: 100%;\n\t\tz-index: 10;\n\t\tbackground-color: $bg-color;\n\t}\n\t// 顶部导航\n\t&__tab {\n\t\tpadding: 20upx 0;\n\t\ttext-align: center;\n\t\tfont-size: 0;\n\t\t&-main {\n\t\t\tdisplay: flex;\n\t\t\twidth: 360upx;\n\t\t\theight: 64upx;\n\t\t\tmargin: 0 auto;\n\t\t\tborder: 1px solid $primary-color;\n\t\t\tborder-radius: 32upx;\n\t\t\toverflow: hidden;\n\t\t}\n\t\t.btn {\n\t\t\tflex: 1;\n\t\t\theight: 64upx;\n\t\t\tline-height: 64upx;\n\t\t\tfont-size: 28upx;\n\t\t\ttext-align: center;\n\t\t\t&.active {\n\t\t\t\tbackground-color: $primary-color;\n\t\t\t\tcolor: #F5DBC3;\n\t\t\t}\n\t\t}\n\t}\n\t\n\t// 列表\n\t&__bar {\n\t\twidth: 100%;\n\t\theight: 88upx;\n\t\twhite-space: nowrap;\n\t\tbackground-color: #FFF;\n\t\t&-nav {\n\t\t\tposition: relative;\n\t\t\tdisplay: inline-block;\n\t\t\tpadding: 0 20upx;\n\t\t\tcolor: #666;\n\t\t\tfont-size: 32upx;\n\t\t\tline-height: 88upx;\n\t\t\t\n\t\t\t&--active {\n\t\t\t\tfont-weight: 500;\n\t\t\t\tcolor: $primary-color;\n\t\t\t\t&::before {\n\t\t\t\t\tcontent: '';\n\t\t\t\t\t@include absolute-b-l(0, 50%);\n\t\t\t\t\t@include wh(40upx, 6upx);\n\t\t\t\t\tbackground-color: $primary-color;\n\t\t\t\t\ttransform: translateX(-50%);\n\t\t\t\t\tborder-radius: 6upx;\n\t\t\t\t}\n\t\t\t}\t\t\n\t\t}\n\t}\n\t\n\t// 订单列表\n\t&__main {\n\t\tpadding: 24upx 32upx;\n\t\t.cu-btn {\n\t\t\tfont-size: 26upx;\n\t\t\tfont-weight: 400;\n\t\t}\n\t}\n\t\n\t&__item {\n\t\tdisplay: block;\n\t\tmargin-bottom: 24upx;\n\t}\n}\n\n.order-pay {\n\tbackground-color: $third-color!important;\n\tcolor: #FFF;\n}\n</style>","import mod from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order_list.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./order_list.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1659844467883\n      var cssReload = require(\"/Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}