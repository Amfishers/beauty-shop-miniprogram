(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/goods/goods"],{

/***/ 85:
/*!**********************************************************************************************************************!*\
  !*** /Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/main.js?{"page":"pages%2Fgoods%2Fgoods"} ***!
  \**********************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 5);


var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 4));
var _goods = _interopRequireDefault(__webpack_require__(/*! ./pages/goods/goods.vue */ 86));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };} // @ts-ignore
wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;createPage(_goods.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),

/***/ 86:
/*!***************************************************************************************************!*\
  !*** /Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/pages/goods/goods.vue ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _goods_vue_vue_type_template_id_5566b618___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./goods.vue?vue&type=template&id=5566b618& */ 87);
/* harmony import */ var _goods_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./goods.vue?vue&type=script&lang=js& */ 89);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _goods_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _goods_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _goods_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./goods.vue?vue&type=style&index=0&lang=scss& */ 92);
/* harmony import */ var _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 15);

var renderjs





/* normalize component */

var component = Object(_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _goods_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _goods_vue_vue_type_template_id_5566b618___WEBPACK_IMPORTED_MODULE_0__["render"],
  _goods_vue_vue_type_template_id_5566b618___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _goods_vue_vue_type_template_id_5566b618___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "pages/goods/goods.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 87:
/*!**********************************************************************************************************************************!*\
  !*** /Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/pages/goods/goods.vue?vue&type=template&id=5566b618& ***!
  \**********************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_template_id_5566b618___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=template&id=5566b618& */ 88);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_template_id_5566b618___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_template_id_5566b618___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_template_id_5566b618___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_template_id_5566b618___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 88:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/pages/goods/goods.vue?vue&type=template&id=5566b618& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  var m0 =
    _vm.goodsDetail.name && !_vm.seckillData
      ? _vm.isPlus &&
        _vm.goodsDetail.plus_price < parseFloat(_vm.goodsDetail.price)
      : null
  var g0 =
    _vm.goodsDetail.name && _vm.isPhysicalGoods
      ? _vm.selectArr.some(function(item) {
          return Boolean(item)
        })
      : null
  var g1 =
    _vm.goodsDetail.name && _vm.isPhysicalGoods && g0
      ? _vm.selectArr.join(";")
      : null
  var l1 =
    _vm.goodsDetail.name && _vm.goodsComments.total_count
      ? _vm.__map(_vm.goodsCommentList, function(item, __i2__) {
          var $orig = _vm.__get_orig(item)

          var l0 = item.img_pic ? item.img_pic.split(",") : null
          var g2 = (item.create_time && item.create_time.split(" ")[0]) || " "
          return {
            $orig: $orig,
            l0: l0,
            g2: g2
          }
        })
      : null
  var f0 = _vm.goodsDetail.name
    ? _vm._f("formatRichText")(_vm.goodsDetail.body)
    : null
  var l2 = _vm.goodsDetail.name
    ? _vm.__map(_vm.eableCoupons, function(coupons, index) {
        var $orig = _vm.__get_orig(coupons)

        var m1 = coupons.start_time && _vm.timeHandler(coupons.start_time)
        var m2 = coupons.end_time && _vm.timeHandler(coupons.end_time)
        return {
          $orig: $orig,
          m1: m1,
          m2: m2
        }
      })
    : null
  var g3 =
    _vm.goodsDetail.name && _vm.hasSelectedSize ? _vm.selectArr.join(";") : null
  _vm.$mp.data = Object.assign(
    {},
    {
      $root: {
        m0: m0,
        g0: g0,
        g1: g1,
        l1: l1,
        f0: f0,
        l2: l2,
        g3: g3
      }
    }
  )
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 89:
/*!****************************************************************************************************************************!*\
  !*** /Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/pages/goods/goods.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=script&lang=js& */ 90);
/* harmony import */ var _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 90:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/pages/goods/goods.vue?vue&type=script&lang=js& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _regenerator = _interopRequireDefault(__webpack_require__(/*! ./node_modules/@babel/runtime/regenerator */ 9));






























































































































































































































































































































































































































































var _vuex = __webpack_require__(/*! vuex */ 12);

var _time2 = _interopRequireDefault(__webpack_require__(/*! @/utils/time.js */ 91));
var _coupons = _interopRequireDefault(__webpack_require__(/*! @/services/coupons.js */ 30));
var _goods = _interopRequireDefault(__webpack_require__(/*! @/services/goods.js */ 29));

var _helper = __webpack_require__(/*! @/utils/helper.js */ 20);function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {try {var info = gen[key](arg);var value = info.value;} catch (error) {reject(error);return;}if (info.done) {resolve(value);} else {Promise.resolve(value).then(_next, _throw);}}function _asyncToGenerator(fn) {return function () {var self = this,args = arguments;return new Promise(function (resolve, reject) {var gen = fn.apply(self, args);function _next(value) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);}function _throw(err) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);}_next(undefined);});};}function _toConsumableArray(arr) {return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();}function _nonIterableSpread() {throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}function _unsupportedIterableToArray(o, minLen) {if (!o) return;if (typeof o === "string") return _arrayLikeToArray(o, minLen);var n = Object.prototype.toString.call(o).slice(8, -1);if (n === "Object" && o.constructor) n = o.constructor.name;if (n === "Map" || n === "Set") return Array.from(o);if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);}function _iterableToArray(iter) {if (typeof Symbol !== "undefined" && Symbol.iterator in Object(iter)) return Array.from(iter);}function _arrayWithoutHoles(arr) {if (Array.isArray(arr)) return _arrayLikeToArray(arr);}function _arrayLikeToArray(arr, len) {if (len == null || len > arr.length) len = arr.length;for (var i = 0, arr2 = new Array(len); i < len; i++) {arr2[i] = arr[i];}return arr2;}function ownKeys(object, enumerableOnly) {var keys = Object.keys(object);if (Object.getOwnPropertySymbols) {var symbols = Object.getOwnPropertySymbols(object);if (enumerableOnly) symbols = symbols.filter(function (sym) {return Object.getOwnPropertyDescriptor(object, sym).enumerable;});keys.push.apply(keys, symbols);}return keys;}function _objectSpread(target) {for (var i = 1; i < arguments.length; i++) {var source = arguments[i] != null ? arguments[i] : {};if (i % 2) {ownKeys(Object(source), true).forEach(function (key) {_defineProperty(target, key, source[key]);});} else if (Object.getOwnPropertyDescriptors) {Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));} else {ownKeys(Object(source)).forEach(function (key) {Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));});}}return target;}function _defineProperty(obj, key, value) {if (key in obj) {Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true });} else {obj[key] = value;}return obj;}var BRate = function BRate() {__webpack_require__.e(/*! require.ensure | components/rate/index */ "components/rate/index").then((function () {return resolve(__webpack_require__(/*! @/components/rate/index.vue */ 133));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var CardServe = function CardServe() {__webpack_require__.e(/*! require.ensure | components/card/cardserve */ "components/card/cardserve").then((function () {return resolve(__webpack_require__(/*! @/components/card/cardserve.vue */ 579));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var uniPopup = function uniPopup() {__webpack_require__.e(/*! require.ensure | components/uni-popup/uni-popup */ "components/uni-popup/uni-popup").then((function () {return resolve(__webpack_require__(/*! @/components/uni-popup/uni-popup.vue */ 586));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var uniNumberBox = function uniNumberBox() {__webpack_require__.e(/*! require.ensure | components/uni-ui/uni-number-box/uni-number-box */ "components/uni-ui/uni-number-box/uni-number-box").then((function () {return resolve(__webpack_require__(/*! @/components/uni-ui/uni-number-box/uni-number-box.vue */ 593));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var more = function more() {__webpack_require__.e(/*! require.ensure | components/more/index */ "components/more/index").then((function () {return resolve(__webpack_require__(/*! @/components/more/index.vue */ 600));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var _default =

{
  components: {
    BRate: BRate,
    CardServe: CardServe,
    uniPopup: uniPopup,
    uniNumberBox: uniNumberBox,
    more: more },

  computed: _objectSpread(_objectSpread({},
  (0, _vuex.mapState)({
    currUser: function currUser(state) {return state.my.currUser;},
    goodsDetail: function goodsDetail(state) {return state.goods.goodsDetail;},
    goodsConsult: function goodsConsult(state) {return state.goods.goodsConsult;},
    goodsComments: function goodsComments(state) {return state.goods.goodsComments;},
    goodsCoupons: function goodsCoupons(state) {return state.goods.goodsCoupons;},
    goodsTotalComments: function goodsTotalComments(state) {return state.goods.goodsTotalComments;},
    goodsCommentRate: function goodsCommentRate(state) {return state.goods.goodsCommentRate;},

    cartListData: function cartListData(state) {return state.cart.cartListData;},

    couponsList: function couponsList(state) {return state.goods.couponsList;},
    goodsStores: function goodsStores(state) {return state.goods.goodsStores;} })), {}, {

    isPlus: function isPlus() {
      return this.currUser.is_plus;
    },
    isPhysicalGoods: function isPhysicalGoods() {
      return this.goodsDetail.product_type == 0;
    },
    isServiceGoods: function isServiceGoods() {
      return this.goodsDetail.product_type == 1;
    },
    // 能领取的优惠券
    eableCoupons: function eableCoupons() {
      if (!this.couponsList.items) return [];

      return this.couponsList.items;
    },
    // 是否有规格
    isHasSpec: function isHasSpec() {
      return this.goodsDetail.attribute_list && this.goodsDetail.attribute_list.length;
    },
    goodsImgList: function goodsImgList() {
      return this.goodsDetail.img_list;
    },
    goodsConsultList: function goodsConsultList() {
      var consultList = this.goodsConsult && this.goodsConsult.items;

      if (!consultList) return [];
      if (!consultList.length) return [];

      return _toConsumableArray(consultList).slice(0, 2);
    },
    showGoodsStores: function showGoodsStores() {
      if (!this.goodsStores && !!this.goodsStores.total) return [];

      if (this.goodsStores.total > 1) {
        return this.goodsStores.items && this.goodsStores.items.slice(0, 1);
      }

      return this.goodsStores.items;
    },
    goodsCommentList: function goodsCommentList() {
      var commentList = this.goodsComments && this.goodsComments.items;

      if (!commentList) return [];
      if (!commentList.length) return [];

      return _toConsumableArray(commentList).slice(0, 2);
    },
    phoneHeight: function phoneHeight() {
      return this.PhoneHeight;
    },
    currSelectDetail: function currSelectDetail() {
      var selectArrStr = this.selectArr.join(',');
      var detail = this.shopItemInfo[selectArrStr];
      if (detail) {
        return detail;
      }var _this$goodsDetail =

      this.goodsDetail,cover_pic = _this$goodsDetail.cover_pic,id = _this$goodsDetail.id,price = _this$goodsDetail.price,plus_price = _this$goodsDetail.plus_price,stock = _this$goodsDetail.stock;

      return {
        cover_pic: cover_pic, id: id, price: price, plus_price: plus_price, stock: stock };

    },
    hasSelectedSize: function hasSelectedSize() {
      // 是否已经选中规格
      var select = this.selectArr;
      var hasSelect = true;
      for (var i = 0; i < this.sizeData.length; i++) {
        if (!select[i]) {
          hasSelect = false;
          break;
        }
      }
      return hasSelect;
    },
    // 购物车数量
    cartNum: function cartNum() {
      var num = 0;
      if (this.cartListData.length) {
        this.cartListData.forEach(function (store) {
          store && store.products.length && store.products.forEach(function (pro) {return num++;});
        });
      }
      return num;
    },
    receivedCoupons: function receivedCoupons() {
      if (!this.goodsCoupons.items) return [];

      return this.goodsCoupons.items.map(function (item) {
        if (item.received_count > 0) {
          return item.id;
        }
      });
    },
    // 秒杀
    seckillData: function seckillData() {
      if (this.goodsDetail && this.goodsDetail.seckill) {
        return this.goodsDetail && this.goodsDetail.seckill;
      }
      return null;
    },
    isSeckillBefore: function isSeckillBefore() {
      if (!this.seckillStart) return null;
      return (0, _helper.isBeforeTime)(new Date(), this.seckillStart);
    },
    isSeckillDuration: function isSeckillDuration() {
      if (!this.seckillStart || !this.seckillEnd) return null;
      var curr = new Date();
      return (0, _helper.isAfterTime)(curr, this.seckillStart) && (0, _helper.isBeforeTime)(curr, this.seckillEnd);
    },
    isSeckillEnd: function isSeckillEnd() {
      if (!this.seckillEnd) return null;
      var curr = new Date();
      return (0, _helper.isAfterTime)(curr, this.seckillStart) && (0, _helper.isAfterTime)(curr, this.seckillEnd);
    } }),

  data: function data() {
    return {
      image_path: this.$cfg.image_path,
      scrollTop: 0,
      current: 0,
      cpage: 0,
      cpageSize: 5,
      productId: '',
      storeId: null,
      nearestStore: '',

      selectArr: [], // 存放被选中的值
      subIndex: [], // 是否选中 因为不确定是多规格还是但规格，所以这里定义数组来判断
      sizeData: [],
      shopItemInfo: {},
      buyNum: 1,
      action: '', // addcart buynow
      seckillStart: null,
      seckillEnd: null,
      currTime: '00:00:00',
      seckillStatus: 'unstart', // 'unstart' 'end' 'duration'

      confirmLoading: false // 弹出框防止多次点击
    };
  },
  methods: _objectSpread(_objectSpread(_objectSpread({},
  (0, _vuex.mapMutations)({
    DRAW_COUPONS: 'goods/DRAW_COUPONS' })),

  (0, _vuex.mapActions)({
    GET_GOODS_DETAIL: 'goods/GET_GOODS_DETAIL',
    GET_GOODS_CONSULTS: 'goods/GET_GOODS_CONSULTS',
    GET_GOODS_COMMENTS: 'goods/GET_GOODS_COMMENTS',
    GET_GOODS_STORES: 'goods/GET_GOODS_STORES',

    GET_ALL_COUPONS: 'goods/GET_ALL_COUPONS',
    // 将商品加入购物车
    SET_GOODS_TO_CART: 'cart/SET_GOODS_TO_CART',
    GET_CART_LIST: 'cart/GET_CART_LIST',
    SETTLEMEN_GOODS: 'cart/SETTLEMEN_GOODS' })), {}, {

    shopItemInfoHandler: function shopItemInfoHandler() {
      // 规格数据处理
      var result = {};
      var attributeList = this.goodsDetail.attribute_list;
      if (attributeList && attributeList[0]) {
        var listData = attributeList[0];

        listData.forEach(function (item) {
          var Arr = [];
          item.specs.forEach(function (spec) {
            // 取键值对
            Object.keys(spec).forEach(function (v) {
              Arr.push(spec[v]);
            });
          });

          var ArrStr = Arr.join(',');
          result[ArrStr] = item;
        });
      }
      this.shopItemInfo = result;
    },
    sizeDataHandler: function sizeDataHandler() {
      // 规格数据处理
      var arr = [];
      var attributeList = this.goodsDetail.attribute_list;
      if (attributeList && attributeList[0]) {
        var listData = attributeList[0];

        var size = {};
        listData.forEach(function (item) {
          item.specs.forEach(function (spec) {
            // 取键值对
            Object.keys(spec).forEach(function (v) {
              if (v in size) {
                if (size[v].indexOf(spec[v]) < 0) {
                  size[v].push(spec[v]);
                }
              } else {
                size[v] = [];
              }
            });
          });
        });

        // 第二次处理
        var _loop = function _loop(res) {
          var result = {};
          result.name = res;
          result.item = [];
          size[res].forEach(function (s) {
            result.item.push({ 'name': s });
          });
          // result.item = size[res]
          arr.push(result);};for (var res in size) {_loop(res);
        }

      }

      this.sizeData = arr;
    },
    // 商品规格
    selectItem: function selectItem(item, n, event, index) {
      if (this.selectArr[n] != item) {
        this.$set(this.selectArr, n, item);
        this.$set(this.subIndex, n, index);
      } else {
        this.$set(this.selectArr, n, '');
        this.$set(this.subIndex, n, -1);
      }
      this.checkItem();
    },
    checkItem: function checkItem() {
      var option = this.sizeData;
      var result = []; //定义数组储存被选中的值
      for (var i in option) {
        result[i] = this.selectArr[i] ? this.selectArr[i] : '';
      }
      for (var i in option) {
        var last = result[i]; //把选中的值存放到字符串last去
        for (var k in option[i].item) {
          result[i] = option[i].item[k].name; //赋值，存在直接覆盖，不存在往里面添加name值
          option[i].item[k].isShow = this.isMay(result); //在数据里面添加字段isShow来判断是否可以选择
        }
        result[i] = last; //还原，目的是记录点下去那个值，避免下一次执行循环时被覆盖
      }
      this.$forceUpdate(); //重绘
    },
    isMay: function isMay(result) {
      for (var i in result) {
        if (result[i] == '') {
          return true; //如果数组里有为空的值，那直接返回true
        }
      }
      return this.shopItemInfo[result].stock == 0 ? false : true; //匹配选中的数据的库存，若不为空返回true反之返回false
    },
    timeHandler: function timeHandler(timeStr) {
      if (!timeStr) return '';

      var timeData = new Date(timeStr);

      return _time2.default.dateFormat(timeData, '{Y}.{MM}.{DD}');
    },
    // 商品规格结束
    swiperChange: function swiperChange(e) {
      this.current = e.target.current;
    },
    cancel_popup: function cancel_popup() {
      this.$refs.showQcCode.close();
    },
    open_popup: function open_popup() {
      this.$refs.showQcCode.open();
    },
    // 打开领券弹窗
    openCouponsPopup: function openCouponsPopup() {
      this.$refs.couponsPopup.open();
    },
    closeCpuponsPopup: function closeCpuponsPopup() {
      this.$refs.couponsPopup.close();
    },
    // 打开选择规格
    openSizePopup: function openSizePopup() {
      this.$refs.sizePopup.open();
    },
    closeSizePopup: function closeSizePopup() {
      this.$refs.sizePopup.close();
    },
    numboxHandler: function numboxHandler(val) {
      if (val != this.buyNum) {
        this.buyNum = val;
      }
    },
    addCart: function addCart() {
      this.action = 'addcart';
      this.openSizePopup();
    },
    postAddCart: function postAddCart() {var _this = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee() {var hasChoose, params;return _regenerator.default.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:
                hasChoose = _this.hasSelectedSize;
                // 已选择尺寸
                params = {
                  product_num: _this.buyNum
                  // store_id: this.goodsDetail.store_listing  // 从店铺进去的话就要把这个 store_id 存下来,因为一个商品是可以多个店铺同时卖的，如果直接访问的商品详情的话 就不传了
                };

                // 是否有规格
                if (_this.isHasSpec) {
                  params.spec_id = _this.currSelectDetail.id;
                } else {
                  params.product_id = _this.goodsDetail.id;
                }

                // 没选中规格
                if (hasChoose) {_context.next = 5;break;}return _context.abrupt("return",
                uni.showToast({
                  icon: 'none',
                  title: '请选择规格',
                  duration: 2000 }));case 5:



                // 禁止按钮点击
                _this.confirmLoading = true;_context.prev = 6;_context.next = 9;return (

                  _this.SET_GOODS_TO_CART(params));case 9:
                uni.showToast({
                  icon: 'success',
                  title: '商品在购物车等你',
                  duration: 2000 });

                _this.GET_CART_LIST();
                _this.closeSizePopup();_context.next = 17;break;case 14:_context.prev = 14;_context.t0 = _context["catch"](6);

                uni.showToast({
                  icon: 'none',
                  title: '加入购物车失败',
                  duration: 2000 });case 17:



                _this.confirmLoading = false;case 18:case "end":return _context.stop();}}}, _callee, null, [[6, 14]]);}))();
    },
    goBuy: function goBuy(type) {
      this.action = type || 'buynow';
      this.openSizePopup();
    },
    // 点击商品弹出窗 规格/数量之后点击确定
    orderConfirm: function orderConfirm() {
      // 从加入购物车进来
      if (this.action == 'addcart') {
        return this.postAddCart();
      }


      // 从立即购买进来
      // 是否已选中内容
      var hasChoose = this.hasSelectedSize;

      // 没选中规格
      if (!hasChoose) {
        return uni.showToast({
          icon: 'none',
          title: '请选择规格',
          duration: 2000 });

      }

      // 禁止按钮点击
      this.confirmLoading = true;var _this$goodsDetail2 =

      this.goodsDetail,id = _this$goodsDetail2.id,product_id = _this$goodsDetail2.product_id,store_id = _this$goodsDetail2.store_id;
      var params = {
        product_id: id,
        store_id: 1,
        product_num: this.buyNum
        // address_id: 1,
        // coupon_item_id: this.receivedCoupons, //优惠券id
      };

      // 秒杀
      if (this.action == 'seckill' && this.seckillData) {
        params.seckill_id = this.seckillData.id;
      }

      // 虚拟商品
      if (this.isServiceGoods) {
        delete params.product_num;
        // 直接下单
        this.settlementGoods(id, params, 2);
      }
      // 实物商品
      if (this.isPhysicalGoods) {
        // 是否有规格，有规格就 spec_id 没有就product_id
        if (this.isHasSpec) {
          params.spec_id = this.currSelectDetail.id;
        }
        // 直接下单
        this.settlementGoods(id, params, 1);
      }

      this.confirmLoading = false;
    },
    // 直接购买商品
    settlementGoods: function settlementGoods(id, data, orderType) {var _this2 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee2() {return _regenerator.default.wrap(function _callee2$(_context2) {while (1) {switch (_context2.prev = _context2.next) {case 0:_context2.prev = 0;_context2.next = 3;return (

                  _this2.SETTLEMEN_GOODS({ id: id, data: data }));case 3:
                uni.navigateTo({
                  url: "/pages/cart/submit?settle=true&order_type=".concat(orderType) });_context2.next = 9;break;case 6:_context2.prev = 6;_context2.t0 = _context2["catch"](0);


                uni.showToast({
                  icon: 'none',
                  title: _context2.t0.message,
                  duration: 2000 });case 9:case "end":return _context2.stop();}}}, _callee2, null, [[0, 6]]);}))();


    },
    getList: function getList() {var _this3 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee3() {var data;return _regenerator.default.wrap(function _callee3$(_context3) {while (1) {switch (_context3.prev = _context3.next) {case 0:
                data = {
                  page: _this3.cpage,
                  pageSize: _this3.cpageSize,
                  productId: _this3.productId };_context3.next = 3;return (

                  _this3.getCommentList(data));case 3:case "end":return _context3.stop();}}}, _callee3);}))();
    },
    getStore: function getStore() {var _this4 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee4() {var data;return _regenerator.default.wrap(function _callee4$(_context4) {while (1) {switch (_context4.prev = _context4.next) {case 0:
                data = {
                  page: _this4.cpage,
                  pageSize: 1,
                  sortValue: '2',
                  sortText: 'ASC',
                  lonSort: 'ASC',
                  longitude: _this4.ad_info.location.lng,
                  latitude: _this4.ad_info.location.lat,
                  productId: _this4.productId };_context4.next = 3;return (

                  _this4.getStoreListData(data));case 3:case "end":return _context4.stop();}}}, _callee4);}))();
    },
    drawCoupons: function drawCoupons(data) {var _this5 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee5() {var id;return _regenerator.default.wrap(function _callee5$(_context5) {while (1) {switch (_context5.prev = _context5.next) {case 0:if (
                data.can_receive) {_context5.next = 2;break;}return _context5.abrupt("return");case 2:
                id = data.id;_context5.prev = 3;_context5.next = 6;return (

                  _coupons.default.getCoupons(id));case 6:
                uni.showToast({
                  icon: 'success',
                  title: '领取成功',
                  duration: 2000 });

                _this5.GET_ALL_COUPONS();_context5.next = 13;break;case 10:_context5.prev = 10;_context5.t0 = _context5["catch"](3);

                uni.showToast({
                  icon: 'none',
                  title: _context5.t0.message,
                  duration: 2000 });case 13:case "end":return _context5.stop();}}}, _callee5, null, [[3, 10]]);}))();



    },
    // 秒杀倒计时
    countdownTime: function countdownTime(startTime, endTime) {var _this6 = this;
      var interval = setInterval(function () {
        var now = new Date();
        var start = new Date(startTime);
        var end = new Date(endTime);

        // 还未开始
        if (start - now > 0) {
          var time = (start - now) / 1000;
          // 获取时、分、秒,毫秒
          var hou = parseInt(time % (60 * 60 * 24) / 3600) < 10 ? '0' + parseInt(time % (60 * 60 * 24) / 3600) : parseInt(time % (60 * 60 * 24) / 3600);
          var min = parseInt(time % (60 * 60 * 24) % 3600 / 60) < 10 ? '0' + parseInt(time % (60 * 60 * 24) % 3600 / 60) : parseInt(time % (60 * 60 * 24) % 3600 / 60);
          var sec = parseInt(time % (60 * 60 * 24) % 3600 % 60) < 10 ? '0' + parseInt(time % (60 * 60 * 24) % 3600 % 60) : parseInt(time % (60 * 60 * 24) % 3600 % 60);
          //that.ssec= parseInt(((date % (60 * 60 * 24)) % 3600) / 60)%10
          _this6.currTime = "".concat(hou, ":").concat(min, ":").concat(sec);
          _this6.seckillStatus = 'unstart';
        } else if (now - end > 0) {
          // 结束了
          _this6.currTime = "00:00:00";
          _this6.seckillStatus = 'end';
          clearInterval(interval);
        } else {
          // 正在开始
          var _time = (end - now) / 1000;
          // 获取时、分、秒,毫秒
          var _hou = parseInt(_time % (60 * 60 * 24) / 3600) < 10 ? '0' + parseInt(_time % (60 * 60 * 24) / 3600) : parseInt(_time % (60 * 60 * 24) / 3600);
          var _min = parseInt(_time % (60 * 60 * 24) % 3600 / 60) < 10 ? '0' + parseInt(_time % (60 * 60 * 24) % 3600 / 60) : parseInt(_time % (60 * 60 * 24) % 3600 / 60);
          var _sec = parseInt(_time % (60 * 60 * 24) % 3600 % 60) < 10 ? '0' + parseInt(_time % (60 * 60 * 24) % 3600 % 60) : parseInt(_time % (60 * 60 * 24) % 3600 % 60);
          _this6.currTime = "".concat(_hou, ":").concat(_min, ":").concat(_sec);
          _this6.seckillStatus = 'duration';
        }
      }, 100);
    } }),


  filters: {
    /**
              * 处理富文本里的图片宽度自适应
              * 1.去掉img标签里的style、width、height属性
              * 2.img标签添加style属性：max-width:100%;height:auto
              * 3.修改所有style里的width属性为max-width:100%
              * 4.去掉<br/>标签
              * @param html
              * @returns {void|string|*}
              */
    formatRichText: function formatRichText(html) {
      //控制小程序中图片大小
      var newContent =
      html &&
      html.replace(/<img[^>]*>/gi, function (match, capture) {
        match = match.replace(/style="[^"]+"/gi, '').replace(/style='[^']+'/gi, '');
        match = match.replace(/width="[^"]+"/gi, '').replace(/width='[^']+'/gi, '');
        match = match.replace(/height="[^"]+"/gi, '').replace(/height='[^']+'/gi, '');
        return match;
      });
      newContent =
      newContent &&
      newContent.replace(/style="[^"]+"/gi, function (match, capture) {
        match = match && match.replace(/width:[^;]+;/gi, 'max-width:100%;').replace(/width:[^;]+;/gi, 'max-width:100%;');
        return match;
      });
      newContent = newContent && newContent.replace(/<br[^>]*\/>/gi, '');
      newContent = newContent && newContent.replace(/\<img/gi, '<img style="max-width:100%;height:auto;display:inline-block;margin:10upx auto;"');
      return newContent;
    } },

  onReachBottom: function onReachBottom() {var _this7 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee6() {return _regenerator.default.wrap(function _callee6$(_context6) {while (1) {switch (_context6.prev = _context6.next) {case 0:if (!(
              _this7.goodsComments.length < _this7.goodsTotalComments)) {_context6.next = 4;break;}
              _this7.cpage = _this7.cpage + 1;_context6.next = 4;return (
                _this7.getList());case 4:case "end":return _context6.stop();}}}, _callee6);}))();

  },
  onLoad: function onLoad(option) {var _this8 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee7() {var scene, wxArgs, currT;return _regenerator.default.wrap(function _callee7$(_context7) {while (1) {switch (_context7.prev = _context7.next) {case 0:
              uni.showLoading({
                title: '加载中...',
                mask: true });


              // this.$saveShareId(option); // 保存分享人ID
              if (option.storeId || option.scene || option.id) {
                // 识别传入的门店id参数
                if (option.scene) {
                  // 扫码打开支付页面
                  scene = decodeURIComponent(option.scene);
                  wxArgs = _this8.$qs.parse(scene);
                  console.log(wxArgs);
                  if (wxArgs.storeId) {
                    _this8.storeId = wxArgs.storeId;
                  }
                  if (wxArgs.productId) {
                    _this8.productId = wxArgs.productId;
                  }
                  if (wxArgs.sid) {
                    // 门店id——sid
                    _this8.storeId = wxArgs.sid;
                  }
                  if (wxArgs.pid) {
                    // 商品id--pid
                    _this8.productId = wxArgs.pid;
                  }
                } else {
                  // 普通方式打开页面
                  if (option.storeId) {
                    _this8.storeId = option.storeId;
                  }
                  if (option.id) {
                    _this8.productId = option.id;
                  }
                }
              } else {
                // 传参错误则跳转首页
                uni.showToast({
                  title: '参数错误，跳转首页',
                  icon: 'none' });

                // return uni.reLaunch({
                // 	url: '/pages/index/index'
                // });
              }_context7.prev = 2;_context7.next = 5;return (

                Promise.all([
                _this8.GET_GOODS_DETAIL(_this8.productId),
                _this8.GET_GOODS_CONSULTS(_this8.productId),
                _this8.GET_GOODS_COMMENTS(_this8.productId),
                _this8.GET_ALL_COUPONS(),
                _this8.GET_GOODS_STORES({ product_id: _this8.productId }),
                _this8.GET_CART_LIST()]));case 5:


              // 有秒杀
              if (_this8.seckillData) {
                currT = new Date();
                _this8.seckillStart = _this8.seckillData.start_time || null;
                _this8.seckillEnd = _this8.seckillData.end_time || null;
                // 设置倒计时
                _this8.countdownTime(_this8.seckillStart, _this8.seckillEnd);

              }_context7.next = 11;break;case 8:_context7.prev = 8;_context7.t0 = _context7["catch"](2);

              uni.showToast({
                icon: 'none',
                title: _context7.t0.message,
                duration: 2000 });case 11:



              // 处理商品sku数据
              _this8.sizeDataHandler();
              _this8.shopItemInfoHandler();
              _this8.checkItem();
              uni.hideLoading();case 15:case "end":return _context7.stop();}}}, _callee7, null, [[2, 8]]);}))();
  },
  onShareAppMessage: function onShareAppMessage() {
    // 分享页面时，加入门店或者
    var path = "/pages/goods/goods?id=".concat(this.productId);
    if (this.storeId) {
      path = path + "&storeId=".concat(this.storeId);
    }
    path = path + "&shareId=".concat(this.currUser.id);
    console.log(path);
    return {
      title: this.goodsDetail.name,
      path: path };

  },
  onPageScroll: function onPageScroll(e) {
    this.scrollTop = e.scrollTop;
  } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 92:
/*!*************************************************************************************************************************************!*\
  !*** /Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/pages/goods/goods.vue?vue&type=style&index=0&lang=scss& ***!
  \*************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src??ref--8-oneOf-1-3!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!../../../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./goods.vue?vue&type=style&index=0&lang=scss& */ 93);
/* harmony import */ var _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_8_oneOf_1_1_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_2_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_3_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_sass_loader_dist_cjs_js_ref_8_oneOf_1_4_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_8_oneOf_1_5_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_Applications_HBuilderX_app_Contents_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_goods_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 93:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-2!./node_modules/postcss-loader/src??ref--8-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--8-oneOf-1-5!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!/Users/huangjiaru/fisher/mywork/side-work/beauty-industry/beauty_shop/pages/goods/goods.vue?vue&type=style&index=0&lang=scss& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ })

},[[85,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/goods/goods.js.map